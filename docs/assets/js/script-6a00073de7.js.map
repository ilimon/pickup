{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","window","factory","lazySizes","document","getElementsByClassName","lazysizes","lazySizesConfig","docElem","documentElement","Date","supportPicture","HTMLPictureElement","addEventListener","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","forEach","Array","prototype","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","fn","add","action","evt","triggerEvent","elem","name","detail","noBubbles","noCancelable","event","createEvent","instance","initCustomEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","reevaluate","elements","src","getCSS","style","getComputedStyle","getWidth","parent","width","offsetWidth","minSize","_lazysizesWidth","parentNode","rAF","running","waiting","firstFns","secondFns","fns","run","runFns","shift","rafBatch","queue","apply","this","arguments","push","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","rICTimeout","ricTimeout","now","idleCallback","timeout","isPriority","delay","debounce","func","timestamp","later","last","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","customMedia","init","expFactor","hFac","loadMode","loadHidden","lazysizesConfig","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","defaultExpand","preloadExpand","regImg","regIframe","supportScroll","navigator","userAgent","currentExpand","isLoading","lowRuns","resetPreloading","target","isNestedVisible","elemExpand","outerRect","visible","body","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","lazyloadElems","expand","clientHeight","clientWidth","_lazyRace","innerWidth","innerHeight","unveilElement","preloadAfterLoad","throttledCheckElements","switchLoadingClass","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","contentWindow","location","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","getElementsByTagName","complete","naturalWidth","autoSizer","updateElem","onload","afterScroll","_","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","autosizesElems","sizeElement","sources","len","dataAttr","getSizeElement","debouncedUpdateElementsSizes","cfg","uP","aC","rC","hC","fire","gW","2","root","define","amd","svg4everybody","embed","svg","fragment","createDocumentFragment","viewBox","hasAttribute","getAttribute","clone","cloneNode","childNodes","appendChild","firstChild","loadreadystatechange","xhr","onreadystatechange","cachedDocument","_cachedDocument","implementation","createHTMLDocument","innerHTML","responseText","_cachedTarget","_embeds","splice","map","item","id","getElementById","getSVGAncestor","node","toLowerCase","rawopts","oninterval","index","uses","use","opts","attributeName","validate","removeChild","srcSplit","split","url","join","requests","XMLHttpRequest","open","send","numberOfSvgUseElementsToBypass","Object","inIframe","self","match","3","byteToHex","toString","substr","buf","offset","bth","4","global","rng","crypto","msCrypto","getRandomValues","rnds8","Uint8Array","rnds","Math","random","5","bytesToUuid","options","ii","./lib/bytesToUuid","./lib/rng","6","defineProperty","value","default","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","7","_defineProperty","obj","key","enumerable","configurable","writable","createTracker","ga","TRACKING_ID","sendInitialPageview","dimensions","HIT_SOURCE","sendNavigationTimingMetrics","performance","timing","nt","navStart","navigationStart","responseEnd","round","domLoaded","domContentLoadedEventStart","windowLoaded","loadEventStart","_len","values","_key","every","allValuesAreValid","_window$ga2","eventCategory","eventAction","eventLabel","NULL_VALUE","nonInteraction","metrics","RESPONSE_END_TIME","DOM_LOAD_TIME","WINDOW_LOAD_TIME","trackCustomDimensions","keys","tracker","_tracker$set","set","CLIENT_ID","get","TRACKING_VERSION","WINDOW_ID","_v2","originalBuildHitTask","model","queueTime","HIT_ID","HIT_TIME","String","HIT_TYPE","VISIBILITY_STATE","visibilityState","trackError","err","undefined","fieldsObj","assign","message","stack","trackErrors","trackErrorEvent","error","lineno","colno","loadErrorEvents","__e","q","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","__esModule","_interopRequireDefault","_len2","_key2","uuid/v4","8","querySelector","classList","toggle","9","paginationPrevious","paginationNext","keyCode","href","10","_svg4everybody2","_googleAnalytics2","_navigation2","_pagination2","_scroll2","./google-analytics","./navigation","./pagination","./scroll","11","min","b","Y","duration","easingFunction","callback","scroll","time","start","easedT","element","scrollTop","from","12","_easing2","_scrollTo2","querySelectorAll","offsetTop","./easing","./scroll-to"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,IACtd,SAASK,EAAQC,GACjB,IAAIC,EAAYD,EAAQD,EAAQA,EAAOG,UACvCH,EAAOE,UAAYA,EACC,iBAAVH,GAAsBA,EAAOJ,UACtCI,EAAOJ,QAAUO,GAJnB,CAMEF,OAAQ,SAAWA,EAAQG,GAC5B,aAEA,GAAIA,EAASC,uBAAb,CAEA,IAAIC,EAAWC,EAEXC,EAAUJ,EAASK,gBAEnBC,EAAOT,EAAOS,KAEdC,EAAiBV,EAAOW,mBAMxBC,EAAmBZ,EAAwB,iBAE3Ca,EAAab,EAAOa,WAEpBC,EAAwBd,EAAOc,uBAAyBD,EAExDE,EAAsBf,EAAOe,oBAE7BC,EAAa,aAEbC,GAAc,OAAQ,QAAS,eAAgB,eAE/CC,KAEAC,EAAUC,MAAMC,UAAUF,QAE1BG,EAAW,SAASC,EAAKC,GAI5B,OAHIN,EAAcM,KACjBN,EAAcM,GAAO,IAAIC,OAAO,UAAUD,EAAI,YAExCN,EAAcM,GAAKE,KAAKH,EAAiB,aAAE,UAAY,KAAOL,EAAcM,IAGhFG,EAAW,SAASJ,EAAKC,GACvBF,EAASC,EAAKC,IAClBD,EAAIK,aAAa,SAAUL,EAAiB,aAAE,UAAY,IAAIM,OAAS,IAAML,IAI3EM,EAAc,SAASP,EAAKC,GAC/B,IAAIO,GACCA,EAAMT,EAASC,EAAIC,KACvBD,EAAIK,aAAa,SAAUL,EAAiB,aAAE,UAAY,IAAIS,QAAQD,EAAK,OAIzEE,EAAsB,SAASC,EAAKC,EAAIC,GAC3C,IAAIC,EAASD,EAzCU,mBAyCgB,sBACpCA,GACFH,EAAoBC,EAAKC,GAE1BlB,EAAWE,QAAQ,SAASmB,GAC3BJ,EAAIG,GAAQC,EAAKH,MAIfI,EAAe,SAASC,EAAMC,EAAMC,EAAQC,EAAWC,GAC1D,IAAIC,EAAQ1C,EAAS2C,YAAY,eAWjC,OATIJ,IACHA,MAGDA,EAAOK,SAAW1C,EAElBwC,EAAMG,gBAAgBP,GAAOE,GAAYC,EAAcF,GAEvDF,EAAKS,cAAcJ,GACZA,GAGJK,EAAiB,SAAUC,EAAIC,GAClC,IAAIC,GACC3C,IAAoB2C,EAAYrD,EAAOsD,aAAehD,EAAgBiD,IAC1EF,GAAUG,YAAY,EAAMC,UAAWN,KAC9BC,GAAQA,EAAKM,MACtBP,EAAGO,IAAMN,EAAKM,MAIZC,EAAS,SAAUnB,EAAMoB,GAC5B,OAAQC,iBAAiBrB,EAAM,WAAaoB,IAGzCE,EAAW,SAAStB,EAAMuB,EAAQC,GAGrC,IAFAA,EAAQA,GAASxB,EAAKyB,YAEhBD,EAAQ1D,EAAgB4D,SAAWH,IAAWvB,EAAK2B,iBACxDH,EAASD,EAAOE,YAChBF,EAASA,EAAOK,WAGjB,OAAOJ,GAGJK,EAAM,WACT,IAAIC,EAASC,EACTC,KACAC,KACAC,EAAMF,EAENG,EAAM,WACT,IAAIC,EAASF,EAOb,IALAA,EAAMF,EAAS3E,OAAS4E,EAAYD,EAEpCF,GAAU,EACVC,GAAU,EAEJK,EAAO/E,QACZ+E,EAAOC,OAAPD,GAGDN,GAAU,GAGPQ,EAAW,SAAS3C,EAAI4C,GACxBT,IAAYS,EACd5C,EAAG6C,MAAMC,KAAMC,YAEfR,EAAIS,KAAKhD,GAELoC,IACHA,GAAU,GACTpE,EAASiF,OAASvE,EAAaC,GAAuB6D,MAO1D,OAFAG,EAASO,SAAWV,EAEbG,EApCE,GAuCNQ,EAAQ,SAASnD,EAAIoD,GACxB,OAAOA,EACN,WACClB,EAAIlC,IAEL,WACC,IAAIqD,EAAOP,KACPQ,EAAOP,UACXb,EAAI,WACHlC,EAAG6C,MAAMQ,EAAMC,OAMfC,EAAW,SAASvD,GACvB,IAAImC,EACAqB,EAAW,EAEXC,EAAatF,EAAgBuF,WAC7BlB,EAAM,WACTL,GAAU,EACVqB,EAAWlF,EAAKqF,MAChB3D,KAEG4D,EAAehF,GAAuBT,EAAgBuF,WACzD,WACC9E,EAAoB4D,GAAMqB,QAASJ,IAEhCA,IAAetF,EAAgBuF,aACjCD,EAAatF,EAAgBuF,aAG/BP,EAAM,WACLzE,EAAW8D,KACT,GAGJ,OAAO,SAASsB,GACf,IAAIC,GAEAD,GAA4B,IAAfA,KAChBL,EAAa,IAGXtB,IAIHA,GAAW,GAEX4B,EAjCY,KAiCMzF,EAAKqF,MAAQH,IAEpB,IACVO,EAAQ,GAGND,GAAeC,EAAQ,GAAKnF,EAC9BgF,IAEAlF,EAAWkF,EAAcG,MAMxBC,EAAW,SAASC,GACvB,IAAIJ,EAASK,EAET1B,EAAM,WACTqB,EAAU,KACVI,KAEGE,EAAQ,WACX,IAAIC,EAAO9F,EAAKqF,MAAQO,EAEpBE,EARM,GAST1F,EAAWyF,EATF,GASgBC,IAExBxF,GAAuB4D,GAAKA,IAI/B,OAAO,WACN0B,EAAY5F,EAAKqF,MAEZE,IACJA,EAAUnF,EAAWyF,EAnBZ,QAwBZ,WACC,IAAIE,EAEAC,GACHC,UAAW,WACXC,YAAa,aACbC,aAAc,cACdC,aAAc,cACdC,WAAY,YAEZC,eAAgB,gBAChBC,QAAS,WACTC,WAAY,cACZC,UAAW,aAEXhD,QAAS,GACTiD,eACAC,MAAM,EACNC,UAAW,IACXC,KAAM,GACNC,SAAU,EACVC,YAAY,EACZ3B,WAAY,KAGbvF,EAAkBN,EAAOM,iBAAmBN,EAAOyH,oBAEnD,IAAIjB,KAAQC,EACND,KAAQlG,IACZA,EAAgBkG,GAAQC,EAAkBD,IAI5CxG,EAAOM,gBAAkBA,EAEzBO,EAAW,WACPP,EAAgB8G,MAClBA,MArCH,GA0CA,IAAIM,EAAS,WACZ,IAAIC,EAAcC,EAAaC,EAAsBN,EAAUO,EAE3DC,EAAMC,EAAMC,EAAOC,EAAQC,EAASC,EAEpCC,EAAeC,EAAehB,EAE9BiB,EAAS,SACTC,EAAY,YAEZC,EAAiB,aAAczI,IAAa,SAAS0B,KAAKgH,UAAUC,WAGpEC,EAAgB,EAEhBC,EAAY,EACZC,GAAW,EAEXC,EAAkB,SAASlK,GAC9BgK,IACGhK,GAAKA,EAAEmK,QACT/G,EAAoBpD,EAAEmK,OAAQD,KAG3BlK,GAAKgK,EAAY,IAAMhK,EAAEmK,UAC5BH,EAAY,IAIVI,EAAkB,SAASzG,EAAM0G,GACpC,IAAIC,EACApF,EAASvB,EACT4G,EAAiD,UAAvCzF,EAAOxD,EAASkJ,KAAM,eAA2D,UAA9B1F,EAAOnB,EAAM,cAO9E,IALAyF,GAASiB,EACTd,GAAYc,EACZhB,GAAUgB,EACVf,GAAWe,EAELE,IAAYrF,EAASA,EAAOuF,eAAiBvF,GAAU5D,EAASkJ,MAAQtF,GAAUxD,IACvF6I,GAAYzF,EAAOI,EAAQ,YAAc,GAAK,IAEF,WAA9BJ,EAAOI,EAAQ,cAC5BoF,EAAYpF,EAAOwF,wBACnBH,EAAUjB,EAAUgB,EAAUK,MAC7BtB,EAASiB,EAAUM,OACnBrB,EAAWe,EAAUO,IAAM,GAC3BzB,EAAQkB,EAAUQ,OAAS,GAK9B,OAAOP,GAGJQ,EAAgB,WACnB,IAAIC,EAAOvK,EAAGwK,EAAMC,EAAcC,EAAiBd,EAAYe,EAAoBC,EAAeC,EAE9FC,EAAgB/J,EAAUoD,SAE9B,IAAI8D,EAAWjH,EAAgBiH,WAAasB,EAAY,IAAMgB,EAAQO,EAAcvK,QAAQ,CAE3FP,EAAI,EAEJwJ,IAEoB,MAAjBR,IACG,WAAYhI,IAChBA,EAAgB+J,OAAS9J,EAAQ+J,aAAe,KAAO/J,EAAQgK,YAAc,IAAM,IAAM,KAG1FlC,EAAgB/H,EAAgB+J,OAChC/B,EAAgBD,EAAgB/H,EAAgB+G,WAG9CuB,EAAgBN,GAAiBO,EAAY,GAAKC,EAAU,GAAKvB,EAAW,IAAMpH,EAASiF,QAC7FwD,EAAgBN,EAChBQ,EAAU,GAEVF,EADSrB,EAAW,GAAKuB,EAAU,GAAKD,EAAY,EACpCR,EAnEA,EAwEjB,KAAM/I,EAAIuK,EAAOvK,IAEhB,GAAI8K,EAAc9K,KAAM8K,EAAc9K,GAAGkL,UAEzC,GAAI/B,EAeJ,IAbKyB,EAAgBE,EAAc9K,GAAgB,aAAE,kBAAqB4J,EAA6B,EAAhBgB,KACtFhB,EAAaN,GAGXuB,IAAoBjB,IACtBnB,EAAO0C,WAAcvB,EAAa5B,EAClCU,EAAO0C,YAAcxB,EACrBe,GAAmC,EAAdf,EACrBiB,EAAkBjB,GAGnBY,EAAOM,EAAc9K,GAAGiK,yBAEnBnB,EAAW0B,EAAKH,SAAWM,IAC9BhC,EAAQ6B,EAAKJ,MAAQ1B,IACrBG,EAAU2B,EAAKL,QAAUQ,EAAqB3C,IAC9CY,EAAS4B,EAAKN,OAASzB,IACvBK,GAAYD,GAAWD,GAAUD,KACjC3H,EAAgBkH,YAAwD,UAA1C7D,EAAOyG,EAAc9K,GAAI,iBACtDsI,GAAeiB,EAAY,IAAMqB,IAAkB3C,EAAW,GAAKuB,EAAU,IAAOG,EAAgBmB,EAAc9K,GAAI4J,KAGxH,GAFAyB,EAAcP,EAAc9K,IAC5B0K,GAAkB,EACfnB,EAAY,EAAG,WACRmB,GAAmBpC,IAAgBmC,GAC7ClB,EAAY,GAAKC,EAAU,GAAKvB,EAAW,IAC1CI,EAAa,IAAMrH,EAAgBsK,oBACnCjD,EAAa,KAAQuC,IAAmB9B,GAAYD,GAAWD,GAAUD,GAAwE,QAA9DmC,EAAc9K,GAAgB,aAAEgB,EAAgB4G,eACpI6C,EAAepC,EAAa,IAAMyC,EAAc9K,SA7B9BqL,EAAcP,EAAc9K,IAiC7CyK,IAAiBC,GACnBW,EAAcZ,KAKbc,EAAyBnF,EAASkE,GAElCkB,EAAqB,SAASjM,GACjC8C,EAAS9C,EAAEmK,OAAQ1I,EAAgBqG,aACnC7E,EAAYjD,EAAEmK,OAAQ1I,EAAgBsG,cACtC3E,EAAoBpD,EAAEmK,OAAQ+B,GAC9BxI,EAAa1D,EAAEmK,OAAQ,eAEpBgC,EAA0B1F,EAAMwF,GAChCC,EAAwB,SAASlM,GACpCmM,GAAyBhC,OAAQnK,EAAEmK,UAGhCiC,EAAkB,SAASzI,EAAMkB,GACpC,IACClB,EAAK0I,cAAcC,SAASnJ,QAAQ0B,GACnC,MAAM7E,GACP2D,EAAKkB,IAAMA,IAIT0H,EAAgB,SAASC,GAC5B,IAAIlE,EAEAmE,EAAeD,EAAoB,aAAE/K,EAAgB2G,aAEpDE,EAAc7G,EAAgB6G,YAAYkE,EAAoB,aAAE,eAAiBA,EAAoB,aAAE,YAC3GA,EAAOzJ,aAAa,QAASuF,GAG3BmE,GACFD,EAAOzJ,aAAa,SAAU0J,IAI5BC,EAAajG,EAAM,SAAU9C,EAAME,EAAQ8I,EAAQC,EAAOC,GAC7D,IAAIhI,EAAKiI,EAAQ5H,EAAQ6H,EAAW/I,EAAOgJ,GAEtChJ,EAAQN,EAAaC,EAAM,mBAAoBE,IAASoJ,mBAEzDL,IACCD,EACF7J,EAASa,EAAMlC,EAAgByG,gBAE/BvE,EAAKZ,aAAa,QAAS6J,IAI7BE,EAASnJ,EAAkB,aAAElC,EAAgB2G,YAC7CvD,EAAMlB,EAAkB,aAAElC,EAAgB0G,SAEvC0E,IAEFE,GADA7H,EAASvB,EAAK4B,aACQpD,EAAWU,KAAKqC,EAAOgI,UAAY,KAG1DF,EAAYnJ,EAAOmJ,WAAe,QAASrJ,IAAUmJ,GAAUjI,GAAOkI,GAEtE/I,GAASmG,OAAQxG,GAEdqJ,IACF5J,EAAoBO,EAAMuG,GAAiB,GAC3CiD,aAAanE,GACbA,EAAuBhH,EAAWkI,EAAiB,MAEnDpH,EAASa,EAAMlC,EAAgBsG,cAC/B3E,EAAoBO,EAAMuI,GAAuB,IAG/Ca,GACFzK,EAAQvB,KAAKmE,EAAOkI,qBAAqB,UAAWb,GAGlDO,EACFnJ,EAAKZ,aAAa,SAAU+J,GACnBjI,IAAQkI,IACdpD,EAAU9G,KAAKc,EAAKuJ,UACtBd,EAAgBzI,EAAMkB,GAEtBlB,EAAKkB,IAAMA,GAIVgI,IAAUC,GAAUC,IACtB1I,EAAeV,GAAOkB,IAAKA,KAI1BlB,EAAKgI,kBACAhI,EAAKgI,UAEb1I,EAAYU,EAAMlC,EAAgBoG,WAElCrC,EAAI,aACEwH,GAAcrJ,EAAK0J,UAAY1J,EAAK2J,aAAe,KACpDN,EACF9C,EAAgBlG,GAEhBgG,IAEDiC,EAAmBjI,MAElB,KAGA8H,EAAgB,SAAUnI,GAC7B,IAAIE,EAEAgJ,EAAQnD,EAAO7G,KAAKc,EAAKuJ,UAGzBN,EAAQC,IAAUlJ,EAAkB,aAAElC,EAAgB4G,YAAc1E,EAAkB,aAAE,UACxFgJ,EAAkB,QAATC,IAERD,GAAW5D,IAAgB8D,IAAUlJ,EAAkB,aAAE,SAAUA,EAAKmJ,QAAYnJ,EAAK0J,UAAa5K,EAASkB,EAAMlC,EAAgBwG,cAAexF,EAASkB,EAAMlC,EAAgBoG,cAExLhE,EAASH,EAAaC,EAAM,kBAAkBE,OAE3C8I,GACDY,EAAUC,WAAW7J,GAAM,EAAMA,EAAKyB,aAGxCzB,EAAKgI,WAAY,EACjB3B,IAEA0C,EAAW/I,EAAME,EAAQ8I,EAAQC,EAAOC,KAGrCY,EAAS,WACZ,IAAG1E,EACH,GAAGnH,EAAKqF,MAAQgC,EAAU,IACzBjH,EAAWyL,EAAQ,SADpB,CAIA,IAAIC,EAAcpG,EAAS,WAC1B7F,EAAgBiH,SAAW,EAC3BsD,MAGDjD,GAAc,EAEdtH,EAAgBiH,SAAW,EAE3BsD,IAEAjK,EAAiB,SAAU,WACK,GAA5BN,EAAgBiH,WAClBjH,EAAgBiH,SAAW,GAE5BgF,MACE,KAGJ,OACCC,EAAG,WACF1E,EAAUrH,EAAKqF,MAEfzF,EAAUoD,SAAWtD,EAASC,uBAAuBE,EAAgBoG,WACrEiB,EAAexH,EAASC,uBAAuBE,EAAgBoG,UAAY,IAAMpG,EAAgBuG,cACjGS,EAAOhH,EAAgBgH,KAEvB1G,EAAiB,SAAUiK,GAAwB,GAEnDjK,EAAiB,SAAUiK,GAAwB,GAEhD7K,EAAOyM,iBACT,IAAIA,iBAAkB5B,GAAyB6B,QAASnM,GAAUoM,WAAW,EAAMC,SAAS,EAAMC,YAAY,KAE9GtM,EAAyB,iBAAE,kBAAmBsK,GAAwB,GACtEtK,EAAyB,iBAAE,kBAAmBsK,GAAwB,GACtEiC,YAAYjC,EAAwB,MAGrCjK,EAAiB,aAAciK,GAAwB,IAGtD,QAAS,YAAa,QAAS,OAAQ,gBAAiB,eAAgB,sBAAsB1J,QAAQ,SAASsB,GAC/GtC,EAA0B,iBAAEsC,EAAMoI,GAAwB,KAGvD,QAAQnJ,KAAKvB,EAAS4M,YACzBT,KAEA1L,EAAiB,OAAQ0L,GACzBnM,EAA0B,iBAAE,mBAAoB0K,GAChDhK,EAAWyL,EAAQ,MAGjBjM,EAAUoD,SAAS5D,QACrB+J,IACAvF,EAAIgB,YAEJwF,KAGFmC,WAAYnC,EACZoC,OAAQtC,GAnUG,GAwUTyB,EAAY,WACf,IAAIc,EAEAC,EAAc7H,EAAM,SAAS9C,EAAMuB,EAAQlB,EAAOmB,GACrD,IAAIoJ,EAAS9N,EAAG+N,EAMhB,GALA7K,EAAK2B,gBAAkBH,EACvBA,GAAS,KAETxB,EAAKZ,aAAa,QAASoC,GAExBhD,EAAWU,KAAKqC,EAAOgI,UAAY,IAErC,IAAIzM,EAAI,EAAG+N,GADXD,EAAUrJ,EAAOkI,qBAAqB,WACbpM,OAAQP,EAAI+N,EAAK/N,IACzC8N,EAAQ9N,GAAGsC,aAAa,QAASoC,GAI/BnB,EAAMH,OAAO4K,UAChBpK,EAAeV,EAAMK,EAAMH,UAGzB6K,EAAiB,SAAU/K,EAAM8K,EAAUtJ,GAC9C,IAAInB,EACAkB,EAASvB,EAAK4B,WAEfL,IACFC,EAAQF,EAAStB,EAAMuB,EAAQC,IAC/BnB,EAAQN,EAAaC,EAAM,mBAAoBwB,MAAOA,EAAOsJ,WAAYA,KAE/DxB,mBACT9H,EAAQnB,EAAMH,OAAOsB,QAETA,IAAUxB,EAAK2B,iBAC1BgJ,EAAY3K,EAAMuB,EAAQlB,EAAOmB,KAkBjCwJ,EAA+BrH,EAZT,WACzB,IAAI7G,EACA+N,EAAMH,EAAerN,OACzB,GAAGwN,EAGF,IAFA/N,EAAI,EAEEA,EAAI+N,EAAK/N,IACdiO,EAAeL,EAAe5N,MAOjC,OACCkN,EAAG,WACFU,EAAiB/M,EAASC,uBAAuBE,EAAgByG,gBACjEnG,EAAiB,SAAU4M,IAE5BR,WAAYQ,EACZnB,WAAYkB,GA3DE,GA+DZnG,EAAO,WACNA,EAAK9H,IACR8H,EAAK9H,GAAI,EACT8M,EAAUI,IACV9E,EAAO8E,MAkBT,OAdAnM,GACCoN,IAAKnN,EACL8L,UAAWA,EACX1E,OAAQA,EACRN,KAAMA,EACNsG,GAAIxK,EACJyK,GAAIhM,EACJiM,GAAI9L,EACJ+L,GAAIvM,EACJwM,KAAMvL,EACNwL,GAAIjK,EACJO,IAAKA,WAOD2J,GAAG,SAAS3O,EAAQU,EAAOJ,IAChC,SAASsO,EAAMhO,GACZ,mBAAqBiO,QAAUA,OAAOC,IACtCD,UAAW,WACP,OAAOD,EAAKG,cAAgBnO,MAC3B,iBAAmBF,GAAUA,EAAOJ,QAGzCI,EAAOJ,QAAUM,IAAYgO,EAAKG,cAAgBnO,IAPrD,CAQCgF,KAAM,WAEJ,SAASoJ,EAAMtK,EAAQuK,EAAKtF,GAExB,GAAIA,EAAQ,CAER,IAAIuF,EAAWpO,SAASqO,yBAA0BC,GAAWH,EAAII,aAAa,YAAc1F,EAAO2F,aAAa,WAEhHF,GAAWH,EAAI1M,aAAa,UAAW6M,GAEvC,IACA,IAAIG,EAAQ5F,EAAO6F,WAAU,GAAKD,EAAME,WAAWjP,QAC/C0O,EAASQ,YAAYH,EAAMI,YAG/BjL,EAAOgL,YAAYR,IAG3B,SAASU,EAAqBC,GAE1BA,EAAIC,mBAAqB,WAErB,GAAI,IAAMD,EAAInC,WAAY,CAEtB,IAAIqC,EAAiBF,EAAIG,gBAEzBD,IAAmBA,EAAiBF,EAAIG,gBAAkBlP,SAASmP,eAAeC,mBAAmB,IACrGH,EAAe/F,KAAKmG,UAAYN,EAAIO,aAAcP,EAAIQ,kBACtDR,EAAIS,QAAQC,OAAO,GAAGC,IAAI,SAASC,GAE/B,IAAI9G,EAASkG,EAAIQ,cAAcI,EAAKC,IAEpC/G,IAAWA,EAASkG,EAAIQ,cAAcI,EAAKC,IAAMX,EAAeY,eAAeF,EAAKC,KAEpF1B,EAAMyB,EAAK/L,OAAQ+L,EAAKxB,IAAKtF,OAIzCkG,EAAIC,qBAsDR,SAASc,EAAeC,GACpB,IAAK,IAAI5B,EAAM4B,EAAM,QAAU5B,EAAIvC,SAASoE,gBAAkB7B,EAAMA,EAAIlK,cACxE,OAAOkK,EAEX,OAxDA,SAAuB8B,GACnB,SAASC,IAEL,IACA,IAAIC,EAAQ,EAAGA,EAAQC,EAAK1Q,QAAU,CAElC,IAAI2Q,EAAMD,EAAKD,GAAQvM,EAASyM,EAAIpM,WAAYkK,EAAM2B,EAAelM,GAASL,EAAM8M,EAAI7B,aAAa,eAAiB6B,EAAI7B,aAAa,QACvI,IAAKjL,GAAO+M,EAAKC,gBAAkBhN,EAAM8M,EAAI7B,aAAa8B,EAAKC,gBAC/DpC,GAAO5K,GACH,GAAIL,EACA,IAAKoN,EAAKE,UAAYF,EAAKE,SAASjN,EAAK4K,EAAKkC,GAAM,CAEhDzM,EAAO6M,YAAYJ,GAEnB,IAAIK,EAAWnN,EAAIoN,MAAM,KAAMC,EAAMF,EAAShM,QAASkL,EAAKc,EAASG,KAAK,KAE1E,GAAID,EAAIlR,OAAQ,CAEZ,IAAIqP,EAAM+B,EAASF,GAEnB7B,KAAQA,EAAM+B,EAASF,GAAO,IAAIG,gBAAsBC,KAAK,MAAOJ,GAAM7B,EAAIkC,OAC9ElC,EAAIS,YACJT,EAAIS,QAAQxK,MACRpB,OAAQA,EACRuK,IAAKA,EACLyB,GAAIA,IAERd,EAAqBC,QAGrBb,EAAMtK,EAAQuK,EAAKnO,SAAS6P,eAAeD,UAI7CO,IAASe,QAKjBf,IAIRC,EAAK1Q,QAAU0Q,EAAK1Q,OAASwR,EAAiC,IAAMvQ,EAAsBuP,EAAY,IAE5G,IAAIhN,EAAUoN,EAAOa,OAAOlB,GAAwKmB,EAAWvR,OAAO0J,MAAQ1J,OAAOwR,KACrOnO,EAAW,aAAcoN,EAAOA,EAAKpN,SADa,0CACQ3B,KAAKgH,UAAUC,aAAeD,UAAUC,UAAU8I,MADoC,4BACV,GAAK,QAAU/I,UAAUC,UAAU8I,MADjE,+BACwF,GAAK,KADrB,mBACmC/P,KAAKgH,UAAUC,YAAc4I,EAEhP,IAAIN,KAAenQ,EAAwBd,OAAOc,uBAAyBD,WAAY0P,EAAOpQ,SAAS8L,qBAAqB,OAAQoF,EAAiC,EAErKhO,GAAYgN,YAQdqB,GAAG,SAASrS,EAAQU,EAAOJ,GAMjC,IAAK,IADDgS,KACKrS,EAAI,EAAGA,EAAI,MAAOA,EACzBqS,EAAUrS,IAAMA,EAAI,KAAOsS,SAAS,IAAIC,OAAO,GAgBjD9R,EAAOJ,QAbP,SAAqBmS,EAAKC,GACxB,IAAIzS,EAAIyS,GAAU,EACdC,EAAML,EACV,OAAOK,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MACvB0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MAAQ,IAChC0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MAAQ,IAChC0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MAAQ,IAChC0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MAAQ,IAChC0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MACxB0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,MACxB0S,EAAIF,EAAIxS,MAAQ0S,EAAIF,EAAIxS,YAK5B2S,GAAG,SAAS5S,EAAQU,EAAOJ,IACjC,SAAWuS,GAKX,IAAIC,EAEAC,EAASF,EAAOE,QAAUF,EAAOG,SACrC,GAAID,GAAUA,EAAOE,gBAAiB,CAEpC,IAAIC,EAAQ,IAAIC,WAAW,IAC3BL,EAAM,WAEJ,OADAC,EAAOE,gBAAgBC,GAChBA,GAIX,IAAKJ,EAAK,CAKR,IAAIM,EAAO,IAAIrR,MAAM,IACrB+Q,EAAM,WACJ,IAAK,IAAWnT,EAAPM,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiBN,EAAoB,WAAhB0T,KAAKC,UAC/BF,EAAKnT,GAAKN,MAAY,EAAJM,IAAa,GAAK,IAGtC,OAAOmT,GAIX1S,EAAOJ,QAAUwS,IAEdvS,KAAKqF,KAAuB,oBAAXiN,OAAyBA,OAAyB,oBAATV,KAAuBA,KAAyB,oBAAXxR,OAAyBA,gBAErH4S,GAAG,SAASvT,EAAQU,EAAOJ,GACjC,IAAIwS,EAAM9S,EAAQ,aACdwT,EAAcxT,EAAQ,qBA2B1BU,EAAOJ,QAzBP,SAAYmT,EAAShB,EAAKC,GACxB,IAAIzS,EAAIwS,GAAOC,GAAU,EAEF,iBAAb,IACRD,EAAiB,UAAXgB,EAAsB,IAAI1R,MAAM,IAAM,KAC5C0R,EAAU,MAIZ,IAAIL,GAFJK,EAAUA,OAESH,SAAWG,EAAQX,KAAOA,KAO7C,GAJAM,EAAK,GAAgB,GAAVA,EAAK,GAAa,GAC7BA,EAAK,GAAgB,GAAVA,EAAK,GAAa,IAGzBX,EACF,IAAK,IAAIiB,EAAK,EAAGA,EAAK,KAAMA,EAC1BjB,EAAIxS,EAAIyT,GAAMN,EAAKM,GAIvB,OAAOjB,GAAOe,EAAYJ,MAKzBO,oBAAoB,EAAEC,YAAY,IAAIC,GAAG,SAAS7T,EAAQU,EAAOJ,GACpE,aAEA2R,OAAO6B,eAAexT,EAAS,cAC7ByT,OAAO,IA4CTzT,EAAQ0T,SAzCNC,OAAQ,SAAgBxU,GACtB,OAAOA,GAETyU,WAAY,SAAoBzU,GAC9B,OAAOA,EAAIA,GAEb0U,YAAa,SAAqB1U,GAChC,OAAOA,GAAK,EAAIA,IAElB2U,cAAe,SAAuB3U,GACpC,OAAOA,EAAI,GAAM,EAAIA,EAAIA,GAAU,EAAI,EAAIA,GAAKA,EAAlB,GAEhC4U,YAAa,SAAqB5U,GAChC,OAAOA,EAAIA,EAAIA,GAEjB6U,aAAc,SAAsB7U,GAClC,QAASA,EAAIA,EAAIA,EAAI,GAEvB8U,eAAgB,SAAwB9U,GACtC,OAAOA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,GAAKA,EAAI,IAAM,EAAIA,EAAI,IAAM,EAAIA,EAAI,GAAK,GAEzE+U,YAAa,SAAqB/U,GAChC,OAAOA,EAAIA,EAAIA,EAAIA,GAErBgV,aAAc,SAAsBhV,GAClC,OAAO,KAAMA,EAAIA,EAAIA,EAAIA,GAE3BiV,eAAgB,SAAwBjV,GACtC,OAAOA,EAAI,GAAM,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAI,IAAMA,EAAIA,EAAIA,EAAIA,GAE7DkV,YAAa,SAAqBlV,GAChC,OAAOA,EAAIA,EAAIA,EAAIA,EAAIA,GAEzBmV,aAAc,SAAsBnV,GAClC,OAAO,IAAMA,EAAIA,EAAIA,EAAIA,EAAIA,GAE/BoV,eAAgB,SAAwBpV,GACtC,OAAOA,EAAI,GAAM,GAAKA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,EAAI,KAAOA,EAAIA,EAAIA,EAAIA,EAAIA,SAMnEqV,GAAG,SAAS9U,EAAQU,EAAOJ,GACjC,aAYA,SAASyU,EAAgBC,EAAKC,EAAKlB,GAAiK,OAApJkB,KAAOD,EAAO/C,OAAO6B,eAAekB,EAAKC,GAAOlB,MAAOA,EAAOmB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIC,GAAOlB,EAAgBiB,EAuB3M,SAASK,IACP1U,OAAO2U,GAAG,SAAUC,EAAa,QACjC5U,OAAO2U,GAAG,MAAO,YAAa,UAGhC,SAASE,IACP7U,OAAO2U,GAAG,OAAQ,WAAYP,KAAoBU,EAAWC,WAAY,aAG3E,SAASC,IACP,GAAMhV,OAAOiV,aAAejV,OAAOiV,YAAYC,OAI/C,GAA4B,aAAxB/U,SAAS4M,WAAb,CAMA,IAAIoI,EAAKF,YAAYC,OACjBE,EAAWD,EAAGE,gBAEdC,EAAc5C,KAAK6C,MAAMJ,EAAGG,YAAcF,GAC1CI,EAAY9C,KAAK6C,MAAMJ,EAAGM,2BAA6BL,GACvDM,EAAehD,KAAK6C,MAAMJ,EAAGQ,eAAiBP,GAYlD,GAVA,WACE,IAAK,IAAIQ,EAAO1Q,UAAUrF,OAAQgW,EAASzU,MAAMwU,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC7ED,EAAOC,GAAQ5Q,UAAU4Q,GAG3B,OAAOD,EAAOE,MAAM,SAAU3C,GAC5B,OAAOA,EAAQ,GAAKA,EAAQ,MAI5B4C,CAAkBV,EAAaE,EAAWE,GAAe,CAC3D,IAAIO,EAEJjW,OAAO2U,GAAG,OAAQ,SAAUsB,GAC1BC,cAAe,oBACfC,YAAa,QACbC,WAAYC,EACZC,gBAAgB,GACflC,EAAgB6B,EAAaM,EAAQC,kBAAmBlB,GAAclB,EAAgB6B,EAAaM,EAAQE,cAAejB,GAAYpB,EAAgB6B,EAAaM,EAAQG,iBAAkBhB,GAAeO,UA9B/MjW,OAAOY,iBAAiB,OAAQoU,GAkCpC,SAAS2B,IACPrF,OAAOsF,KAAK9B,GAAY3T,QAAQ,SAAUmT,GACxCtU,OAAO2U,GAAG,MAAOG,EAAWR,GAAM+B,KAGpCrW,OAAO2U,GAAG,SAAUkC,GAClB,IAAIC,EAEJD,EAAQE,KAAKD,KAAmB1C,EAAgB0C,EAAchC,EAAWkC,UAAWH,EAAQI,IAAI,aAAc7C,EAAgB0C,EAAchC,EAAWoC,iBAAkBA,GAAmB9C,EAAgB0C,EAAchC,EAAWqC,WAAW,EAAIC,EAAI/D,YAAayD,MAGvQ9W,OAAO2U,GAAG,SAAUkC,GAClB,IAAIQ,EAAuBR,EAAQI,IAAI,gBAEvCJ,EAAQE,IAAI,eAAgB,SAAUO,GACpC,IAAIC,EAAYD,EAAML,IAAI,cAAgB,EAE1CK,EAAMP,IAAIjC,EAAW0C,QAAQ,EAAIJ,EAAI/D,YAAY,GACjDiE,EAAMP,IAAIjC,EAAW2C,SAAUC,OAAO,IAAIjX,KAAS8W,IAAY,GAC/DD,EAAMP,IAAIjC,EAAW6C,SAAUL,EAAML,IAAI,YAAY,GACrDK,EAAMP,IAAIjC,EAAW8C,iBAAkBzX,SAAS0X,iBAAiB,GAEjER,EAAqBC,OAK3B,SAASQ,IACP,IAAIC,EAAM7S,UAAUrF,OAAS,QAAsBmY,IAAjB9S,UAAU,GAAmBA,UAAU,MACrE+S,EAAY/S,UAAUrF,OAAS,QAAsBmY,IAAjB9S,UAAU,GAAmBA,UAAU,MAE/ElF,OAAO2U,GAAG,OAAQ,QAASrD,OAAO4G,QAChChC,cAAe,QACfC,YAAa4B,EAAItV,MAAQ,kBACzB2T,WAAY2B,EAAII,QAAU,MAAQJ,EAAIK,OAAS,oBAC/C9B,gBAAgB,GACf2B,IAGL,SAASI,IAGP,SAASC,EAAgBzV,GAQvBiV,EAJUjV,EAAM0V,QACdJ,QAAStV,EAAMsV,QAAU,KAAOtV,EAAM2V,OAAS,IAAM3V,EAAM4V,MAAQ,MAHnEvC,cAAe,mBAJnB,IAAIwC,EAAkB1Y,OAAO2Y,KAAO3Y,OAAO2Y,IAAIC,MAa3CC,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBf,EAErB,IACE,IAAK,IAAoDgB,EAAhDC,EAAYP,EAAgBQ,OAAOC,cAAsBN,GAA6BG,EAAQC,EAAUG,QAAQC,MAAOR,GAA4B,EAG1JP,EAFYU,EAAM5F,OAIpB,MAAO2E,GACPe,GAAoB,EACpBC,EAAiBhB,EACjB,QACA,KACOc,GAA6BI,EAAUK,QAC1CL,EAAUK,SAEZ,QACA,GAAIR,EACF,MAAMC,GAKZ/Y,OAAOY,iBAAiB,QAAS0X,GAhKnChH,OAAO6B,eAAexT,EAAS,cAC7ByT,OAAO,IAGT,IAEIgE,EAEJ,SAAgC/C,GAAO,OAAOA,GAAOA,EAAIkF,WAAalF,GAAQhB,QAASgB,GAF7EmF,CAFDna,EAAQ,YAQbuV,EAAc,gBACdsC,EAAmB,IACnBb,EAAa,YAEbvB,GACFoC,iBAAkB,aAClBF,UAAW,aACXG,UAAW,aACXK,OAAQ,aACRC,SAAU,aACVE,SAAU,aACV5C,WAAY,aACZ6C,iBAAkB,cAGhBrB,GACFC,kBAAmB,UACnBC,cAAe,UACfC,iBAAkB,WAqJpB/W,EAAQ0T,QAhBR,WACErT,OAAO2U,GAAK3U,OAAO2U,IAAM,WACvB,IAAK,IAAI8E,EAAQvU,UAAUrF,OAAQ4F,EAAOrE,MAAMqY,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFjU,EAAKiU,GAASxU,UAAUwU,GAG1B,OAAQ1Z,OAAO2U,GAAGiE,EAAI5Y,OAAO2U,GAAGiE,OAASzT,KAAKM,IAGhDiP,IACAG,IACAG,IACA2B,IACA0B,OAKCsB,UAAU,IAAIC,GAAG,SAASva,EAAQU,EAAOJ,GAC5C,aAEA2R,OAAO6B,eAAexT,EAAS,cAC7ByT,OAAO,IAQTzT,EAAQ0T,QANR,WACElT,SAAS0Z,cAAc,cAAcjZ,iBAAiB,QAAS,WAC7DT,SAAS0Z,cAAc5U,KAAK0J,aAAa,gBAAgBmL,UAAUC,OAAO,kBAMxEC,GAAG,SAAS3a,EAAQU,EAAOJ,GACjC,aAEA2R,OAAO6B,eAAexT,EAAS,cAC7ByT,OAAO,IAsBTzT,EAAQ0T,QApBR,WACE,IAAI4G,EAAqB9Z,SAAS0Z,cAAc,2BAC5CK,EAAiB/Z,SAAS0Z,cAAc,uBAE5C7Z,OAAOY,iBAAiB,UAAW,SAAUiC,GAC3C,OAAQA,EAAMsX,SACZ,KAAK,GACCF,IACFja,OAAOmL,SAAW8O,EAAmBG,MAEvC,MACF,KAAK,GACCF,IACFla,OAAOmL,SAAW+O,EAAeE,eASrCC,IAAI,SAAShb,EAAQU,EAAOJ,GAClC,aA0BA,SAAS6Z,EAAuBnF,GAAO,OAAOA,GAAOA,EAAIkF,WAAalF,GAAQhB,QAASgB,GAtBrEmF,EAFDna,EAAQ,cAAzB,IAMIib,EAAkBd,EAFDna,EAAQ,kBAMzBkb,EAAoBf,EAFDna,EAAQ,uBAM3Bmb,EAAehB,EAFDna,EAAQ,iBAMtBob,EAAejB,EAFDna,EAAQ,iBAMtBqb,EAAWlB,EAFDna,EAAQ,cAOpB,EAAIkb,EAAkBlH,YACtB,EAAImH,EAAanH,YACjB,EAAIoH,EAAapH,YACjB,EAAIqH,EAASrH,YACb,EAAIiH,EAAgBjH,aAKnBsH,qBAAqB,EAAEC,eAAe,EAAEC,eAAe,EAAEC,WAAW,GAAGza,UAAY,EAAE+N,cAAgB,IAAI2M,IAAI,SAAS1b,EAAQU,EAAOJ,GACxI,aAKA,SAASqb,EAAI5b,EAAG6b,GACd,OAAO7b,EAAI6b,EAAI7b,EAAI6b,EAJrB3J,OAAO6B,eAAexT,EAAS,cAC7ByT,OAAO,IAkCTzT,EAAQ0T,QA5BR,SAAkB6H,EAAGC,EAAUC,EAAgBC,GAW7C,SAASC,EAAOjV,GACd,IACIkV,EAAOP,EAAI,GADG/F,YAAYnP,MACG0V,GAASL,GACtCM,EAASL,EAAeG,GAE5BG,EAAQC,UAAYF,GAAUP,EAAIU,GAAQA,EAEtCL,EAAO,EACTza,sBAAsBwa,GACbD,GACTA,IApBJ,IAAIG,EAAQvG,YAAYnP,MACpB4V,EAAUvb,SAASK,gBAAgBmb,UAAYxb,SAASK,gBAAkBL,SAASkJ,KACnFuS,EAAOF,EAAQC,UAEfC,IAASV,EAoBbpa,sBAAsBwa,GAnBpBD,UAwBEQ,IAAI,SAASxc,EAAQU,EAAOJ,GAClC,aAcA,SAAS6Z,EAAuBnF,GAAO,OAAOA,GAAOA,EAAIkF,WAAalF,GAAQhB,QAASgB,GAZvF/C,OAAO6B,eAAexT,EAAS,cAC7ByT,OAAO,IAGT,IAEI0I,EAAWtC,EAFDna,EAAQ,aAMlB0c,EAAavC,EAFDna,EAAQ,gBAcxBM,EAAQ0T,QARR,WACElT,SAAS6b,iBAAiB,iBAAiB7a,QAAQ,SAAUua,GAC3DA,EAAQ9a,iBAAiB,QAAS,YAChC,EAAImb,EAAW1I,SAASlT,SAAS6P,eAAe0L,EAAQtB,KAAKtJ,MAAM,KAAK,IAAImL,UAAW,IAAKH,EAASzI,QAAQO,uBAOhHsI,WAAW,EAAEC,cAAc,UAAU","file":"script-6a00073de7.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('CustomEvent');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initCustomEvent(name, !noBubbles, !noCancelable, detail);\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = 125;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && lazySizesConfig.ricTimeout ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || (delay < 9 && requestIdleCallback)){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 300,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar defaultExpand, preloadExpand, hFac;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/glebot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || getCSS(elem, 'visibility') != 'hidden';\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal;\n\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(preloadExpand == null){\n\t\t\t\t\tif(!('expand' in lazySizesConfig)){\n\t\t\t\t\t\tlazySizesConfig.expand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\t}\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n\n},{}],2:[function(require,module,exports){\n!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});\n},{}],3:[function(require,module,exports){\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n},{}],4:[function(require,module,exports){\n(function (global){\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],5:[function(require,module,exports){\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n},{\"./lib/bytesToUuid\":3,\"./lib/rng\":4}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar easing = {\n  linear: function linear(t) {\n    return t;\n  },\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  easeInCubic: function easeInCubic(t) {\n    return t * t * t;\n  },\n  easeOutCubic: function easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  easeInOutCubic: function easeInOutCubic(t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  easeInQuart: function easeInQuart(t) {\n    return t * t * t * t;\n  },\n  easeOutQuart: function easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n  easeInOutQuart: function easeInOutQuart(t) {\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n  },\n  easeInQuint: function easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  easeOutQuint: function easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n  easeInOutQuint: function easeInOutQuint(t) {\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n  }\n};\n\nexports.default = easing;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _v = require('uuid/v4');\n\nvar _v2 = _interopRequireDefault(_v);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar TRACKING_ID = 'UA-46884111-4';\nvar TRACKING_VERSION = '1';\nvar NULL_VALUE = '(not set)';\n\nvar dimensions = {\n  TRACKING_VERSION: 'dimension1',\n  CLIENT_ID: 'dimension2',\n  WINDOW_ID: 'dimension3',\n  HIT_ID: 'dimension4',\n  HIT_TIME: 'dimension5',\n  HIT_TYPE: 'dimension6',\n  HIT_SOURCE: 'dimension7',\n  VISIBILITY_STATE: 'dimension8'\n};\n\nvar metrics = {\n  RESPONSE_END_TIME: 'metric1',\n  DOM_LOAD_TIME: 'metric2',\n  WINDOW_LOAD_TIME: 'metric3'\n};\n\nfunction createTracker() {\n  window.ga('create', TRACKING_ID, 'auto');\n  window.ga('set', 'transport', 'beacon');\n}\n\nfunction sendInitialPageview() {\n  window.ga('send', 'pageview', _defineProperty({}, dimensions.HIT_SOURCE, 'pageload'));\n}\n\nfunction sendNavigationTimingMetrics() {\n  if (!(window.performance && window.performance.timing)) {\n    return;\n  }\n\n  if (document.readyState !== 'complete') {\n    window.addEventListener('load', sendNavigationTimingMetrics);\n\n    return;\n  }\n\n  var nt = performance.timing;\n  var navStart = nt.navigationStart;\n\n  var responseEnd = Math.round(nt.responseEnd - navStart);\n  var domLoaded = Math.round(nt.domContentLoadedEventStart - navStart);\n  var windowLoaded = Math.round(nt.loadEventStart - navStart);\n\n  function allValuesAreValid() {\n    for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n      values[_key] = arguments[_key];\n    }\n\n    return values.every(function (value) {\n      return value > 0 && value < 6e6;\n    });\n  }\n\n  if (allValuesAreValid(responseEnd, domLoaded, windowLoaded)) {\n    var _window$ga2;\n\n    window.ga('send', 'event', (_window$ga2 = {\n      eventCategory: 'Navigation Timing',\n      eventAction: 'track',\n      eventLabel: NULL_VALUE,\n      nonInteraction: true\n    }, _defineProperty(_window$ga2, metrics.RESPONSE_END_TIME, responseEnd), _defineProperty(_window$ga2, metrics.DOM_LOAD_TIME, domLoaded), _defineProperty(_window$ga2, metrics.WINDOW_LOAD_TIME, windowLoaded), _window$ga2));\n  }\n}\n\nfunction trackCustomDimensions() {\n  Object.keys(dimensions).forEach(function (key) {\n    window.ga('set', dimensions[key], NULL_VALUE);\n  });\n\n  window.ga(function (tracker) {\n    var _tracker$set;\n\n    tracker.set((_tracker$set = {}, _defineProperty(_tracker$set, dimensions.CLIENT_ID, tracker.get('clientId')), _defineProperty(_tracker$set, dimensions.TRACKING_VERSION, TRACKING_VERSION), _defineProperty(_tracker$set, dimensions.WINDOW_ID, (0, _v2.default)()), _tracker$set));\n  });\n\n  window.ga(function (tracker) {\n    var originalBuildHitTask = tracker.get('buildHitTask');\n\n    tracker.set('buildHitTask', function (model) {\n      var queueTime = model.get('queueTime') || 0;\n\n      model.set(dimensions.HIT_ID, (0, _v2.default)(), true);\n      model.set(dimensions.HIT_TIME, String(new Date() - queueTime), true);\n      model.set(dimensions.HIT_TYPE, model.get('hitType'), true);\n      model.set(dimensions.VISIBILITY_STATE, document.visibilityState, true);\n\n      originalBuildHitTask(model);\n    });\n  });\n}\n\nfunction trackError() {\n  var err = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var fieldsObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  window.ga('send', 'event', Object.assign({\n    eventCategory: 'Error',\n    eventAction: err.name || '(no error name)',\n    eventLabel: err.message + '\\n' + (err.stack || '(no stack trace)'),\n    nonInteraction: true\n  }, fieldsObj));\n}\n\nfunction trackErrors() {\n  var loadErrorEvents = window.__e && window.__e.q || [];\n\n  function trackErrorEvent(event) {\n    var fieldsObj = {\n      eventCategory: 'Uncaught Error'\n    };\n    var err = event.error || {\n      message: event.message + ' (' + event.lineno + ':' + event.colno + ')'\n    };\n\n    trackError(err, fieldsObj);\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = loadErrorEvents[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var event = _step.value;\n\n      trackErrorEvent(event);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  window.addEventListener('error', trackErrorEvent);\n}\n\nfunction googleAnalytics() {\n  window.ga = window.ga || function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return (window.ga.q = window.ga.q || []).push(args);\n  };\n\n  createTracker();\n  sendInitialPageview();\n  sendNavigationTimingMetrics();\n  trackCustomDimensions();\n  trackErrors();\n}\n\nexports.default = googleAnalytics;\n\n},{\"uuid/v4\":5}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction navigation() {\n  document.querySelector('.js-toggle').addEventListener('click', function () {\n    document.querySelector(this.getAttribute('data-target')).classList.toggle('active');\n  });\n}\n\nexports.default = navigation;\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction pagination() {\n  var paginationPrevious = document.querySelector('.pagination__previous a');\n  var paginationNext = document.querySelector('.pagination__next a');\n\n  window.addEventListener('keydown', function (event) {\n    switch (event.keyCode) {\n      case 37:\n        if (paginationPrevious) {\n          window.location = paginationPrevious.href;\n        }\n        break;\n      case 39:\n        if (paginationNext) {\n          window.location = paginationNext.href;\n        }\n        break;\n    }\n  });\n}\n\nexports.default = pagination;\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nvar _lazysizes = require('lazysizes');\n\nvar _lazysizes2 = _interopRequireDefault(_lazysizes);\n\nvar _svg4everybody = require('svg4everybody');\n\nvar _svg4everybody2 = _interopRequireDefault(_svg4everybody);\n\nvar _googleAnalytics = require('./google-analytics');\n\nvar _googleAnalytics2 = _interopRequireDefault(_googleAnalytics);\n\nvar _navigation = require('./navigation');\n\nvar _navigation2 = _interopRequireDefault(_navigation);\n\nvar _pagination = require('./pagination');\n\nvar _pagination2 = _interopRequireDefault(_pagination);\n\nvar _scroll = require('./scroll');\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction main() {\n  (0, _googleAnalytics2.default)();\n  (0, _navigation2.default)();\n  (0, _pagination2.default)();\n  (0, _scroll2.default)();\n  (0, _svg4everybody2.default)();\n}\n\nmain();\n\n},{\"./google-analytics\":7,\"./navigation\":8,\"./pagination\":9,\"./scroll\":12,\"lazysizes\":1,\"svg4everybody\":2}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction min(a, b) {\n  return a < b ? a : b;\n}\n\nfunction scrollTo(Y, duration, easingFunction, callback) {\n  var start = performance.now();\n  var element = document.documentElement.scrollTop ? document.documentElement : document.body;\n  var from = element.scrollTop;\n\n  if (from === Y) {\n    callback();\n\n    return;\n  }\n\n  function scroll(timestamp) {\n    var currentTime = performance.now();\n    var time = min(1, (currentTime - start) / duration);\n    var easedT = easingFunction(time);\n\n    element.scrollTop = easedT * (Y - from) + from;\n\n    if (time < 1) {\n      requestAnimationFrame(scroll);\n    } else if (callback) {\n      callback();\n    }\n  }\n\n  requestAnimationFrame(scroll);\n}\n\nexports.default = scrollTo;\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _easing = require('./easing');\n\nvar _easing2 = _interopRequireDefault(_easing);\n\nvar _scrollTo = require('./scroll-to');\n\nvar _scrollTo2 = _interopRequireDefault(_scrollTo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction scroll() {\n  document.querySelectorAll('.js-scroll-to').forEach(function (element) {\n    element.addEventListener('click', function () {\n      (0, _scrollTo2.default)(document.getElementById(element.href.split('#')[1]).offsetTop, 600, _easing2.default.easeInOutCubic);\n    });\n  });\n}\n\nexports.default = scroll;\n\n},{\"./easing\":6,\"./scroll-to\":11}]},{},[10])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbGF6eXNpemVzL2xhenlzaXplcy5qcyIsIm5vZGVfbW9kdWxlcy9zdmc0ZXZlcnlib2R5L2Rpc3Qvc3ZnNGV2ZXJ5Ym9keS5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwic291cmNlL2Fzc2V0cy9qcy9lYXNpbmcuanMiLCJzb3VyY2UvYXNzZXRzL2pzL2dvb2dsZS1hbmFseXRpY3MuanMiLCJzb3VyY2UvYXNzZXRzL2pzL25hdmlnYXRpb24uanMiLCJzb3VyY2UvYXNzZXRzL2pzL3BhZ2luYXRpb24uanMiLCJzb3VyY2UvYXNzZXRzL2pzL3NjcmlwdC5qcyIsInNvdXJjZS9hc3NldHMvanMvc2Nyb2xsLXRvLmpzIiwic291cmNlL2Fzc2V0cy9qcy9zY3JvbGwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QVQsR0FBa0I7QUFDaEIsV0FBUyxnQkFBVCxDQUEwQixlQUExQixFQUEyQyxPQUEzQyxDQUFtRCxVQUFDLE9BQUQsRUFBYTtBQUM5RCxZQUFRLGdCQUFSLENBQXlCLE9BQXpCLEVBQWtDLFlBQU07QUFDdEMsOEJBQVMsU0FBUyxjQUFULENBQXdCLFFBQVEsSUFBUixDQUFhLEtBQWIsQ0FBbUIsR0FBbkIsRUFBd0IsQ0FBeEIsQ0FBeEIsRUFBb0QsU0FBN0QsRUFBd0UsR0FBeEUsRUFBNkUsaUJBQU8sY0FBcEY7QUFDRCxLQUZEO0FBR0QsR0FKRDtBQUtEOztrQkFFYyxNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIihmdW5jdGlvbih3aW5kb3csIGZhY3RvcnkpIHtcblx0dmFyIGxhenlTaXplcyA9IGZhY3Rvcnkod2luZG93LCB3aW5kb3cuZG9jdW1lbnQpO1xuXHR3aW5kb3cubGF6eVNpemVzID0gbGF6eVNpemVzO1xuXHRpZih0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKXtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGxhenlTaXplcztcblx0fVxufSh3aW5kb3csIGZ1bmN0aW9uIGwod2luZG93LCBkb2N1bWVudCkge1xuXHQndXNlIHN0cmljdCc7XG5cdC8qanNoaW50IGVxbnVsbDp0cnVlICovXG5cdGlmKCFkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXtyZXR1cm47fVxuXG5cdHZhciBsYXp5c2l6ZXMsIGxhenlTaXplc0NvbmZpZztcblxuXHR2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXHR2YXIgRGF0ZSA9IHdpbmRvdy5EYXRlO1xuXG5cdHZhciBzdXBwb3J0UGljdHVyZSA9IHdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQ7XG5cblx0dmFyIF9hZGRFdmVudExpc3RlbmVyID0gJ2FkZEV2ZW50TGlzdGVuZXInO1xuXG5cdHZhciBfZ2V0QXR0cmlidXRlID0gJ2dldEF0dHJpYnV0ZSc7XG5cblx0dmFyIGFkZEV2ZW50TGlzdGVuZXIgPSB3aW5kb3dbX2FkZEV2ZW50TGlzdGVuZXJdO1xuXG5cdHZhciBzZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQ7XG5cblx0dmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgc2V0VGltZW91dDtcblxuXHR2YXIgcmVxdWVzdElkbGVDYWxsYmFjayA9IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrO1xuXG5cdHZhciByZWdQaWN0dXJlID0gL15waWN0dXJlJC9pO1xuXG5cdHZhciBsb2FkRXZlbnRzID0gWydsb2FkJywgJ2Vycm9yJywgJ2xhenlpbmNsdWRlZCcsICdfbGF6eWxvYWRlZCddO1xuXG5cdHZhciByZWdDbGFzc0NhY2hlID0ge307XG5cblx0dmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaDtcblxuXHR2YXIgaGFzQ2xhc3MgPSBmdW5jdGlvbihlbGUsIGNscykge1xuXHRcdGlmKCFyZWdDbGFzc0NhY2hlW2Nsc10pe1xuXHRcdFx0cmVnQ2xhc3NDYWNoZVtjbHNdID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytjbHMrJyhcXFxcc3wkKScpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVnQ2xhc3NDYWNoZVtjbHNdLnRlc3QoZWxlW19nZXRBdHRyaWJ1dGVdKCdjbGFzcycpIHx8ICcnKSAmJiByZWdDbGFzc0NhY2hlW2Nsc107XG5cdH07XG5cblx0dmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWxlLCBjbHMpIHtcblx0XHRpZiAoIWhhc0NsYXNzKGVsZSwgY2xzKSl7XG5cdFx0XHRlbGUuc2V0QXR0cmlidXRlKCdjbGFzcycsIChlbGVbX2dldEF0dHJpYnV0ZV0oJ2NsYXNzJykgfHwgJycpLnRyaW0oKSArICcgJyArIGNscyk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsZSwgY2xzKSB7XG5cdFx0dmFyIHJlZztcblx0XHRpZiAoKHJlZyA9IGhhc0NsYXNzKGVsZSxjbHMpKSkge1xuXHRcdFx0ZWxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoZWxlW19nZXRBdHRyaWJ1dGVdKCdjbGFzcycpIHx8ICcnKS5yZXBsYWNlKHJlZywgJyAnKSk7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBhZGRSZW1vdmVMb2FkRXZlbnRzID0gZnVuY3Rpb24oZG9tLCBmbiwgYWRkKXtcblx0XHR2YXIgYWN0aW9uID0gYWRkID8gX2FkZEV2ZW50TGlzdGVuZXIgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG5cdFx0aWYoYWRkKXtcblx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZG9tLCBmbik7XG5cdFx0fVxuXHRcdGxvYWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbihldnQpe1xuXHRcdFx0ZG9tW2FjdGlvbl0oZXZ0LCBmbik7XG5cdFx0fSk7XG5cdH07XG5cblx0dmFyIHRyaWdnZXJFdmVudCA9IGZ1bmN0aW9uKGVsZW0sIG5hbWUsIGRldGFpbCwgbm9CdWJibGVzLCBub0NhbmNlbGFibGUpe1xuXHRcdHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuXG5cdFx0aWYoIWRldGFpbCl7XG5cdFx0XHRkZXRhaWwgPSB7fTtcblx0XHR9XG5cblx0XHRkZXRhaWwuaW5zdGFuY2UgPSBsYXp5c2l6ZXM7XG5cblx0XHRldmVudC5pbml0Q3VzdG9tRXZlbnQobmFtZSwgIW5vQnViYmxlcywgIW5vQ2FuY2VsYWJsZSwgZGV0YWlsKTtcblxuXHRcdGVsZW0uZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0cmV0dXJuIGV2ZW50O1xuXHR9O1xuXG5cdHZhciB1cGRhdGVQb2x5ZmlsbCA9IGZ1bmN0aW9uIChlbCwgZnVsbCl7XG5cdFx0dmFyIHBvbHlmaWxsO1xuXHRcdGlmKCAhc3VwcG9ydFBpY3R1cmUgJiYgKCBwb2x5ZmlsbCA9ICh3aW5kb3cucGljdHVyZWZpbGwgfHwgbGF6eVNpemVzQ29uZmlnLnBmKSApICl7XG5cdFx0XHRwb2x5ZmlsbCh7cmVldmFsdWF0ZTogdHJ1ZSwgZWxlbWVudHM6IFtlbF19KTtcblx0XHR9IGVsc2UgaWYoZnVsbCAmJiBmdWxsLnNyYyl7XG5cdFx0XHRlbC5zcmMgPSBmdWxsLnNyYztcblx0XHR9XG5cdH07XG5cblx0dmFyIGdldENTUyA9IGZ1bmN0aW9uIChlbGVtLCBzdHlsZSl7XG5cdFx0cmV0dXJuIChnZXRDb21wdXRlZFN0eWxlKGVsZW0sIG51bGwpIHx8IHt9KVtzdHlsZV07XG5cdH07XG5cblx0dmFyIGdldFdpZHRoID0gZnVuY3Rpb24oZWxlbSwgcGFyZW50LCB3aWR0aCl7XG5cdFx0d2lkdGggPSB3aWR0aCB8fCBlbGVtLm9mZnNldFdpZHRoO1xuXG5cdFx0d2hpbGUod2lkdGggPCBsYXp5U2l6ZXNDb25maWcubWluU2l6ZSAmJiBwYXJlbnQgJiYgIWVsZW0uX2xhenlzaXplc1dpZHRoKXtcblx0XHRcdHdpZHRoID0gIHBhcmVudC5vZmZzZXRXaWR0aDtcblx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiB3aWR0aDtcblx0fTtcblxuXHR2YXIgckFGID0gKGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHJ1bm5pbmcsIHdhaXRpbmc7XG5cdFx0dmFyIGZpcnN0Rm5zID0gW107XG5cdFx0dmFyIHNlY29uZEZucyA9IFtdO1xuXHRcdHZhciBmbnMgPSBmaXJzdEZucztcblxuXHRcdHZhciBydW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHJ1bkZucyA9IGZucztcblxuXHRcdFx0Zm5zID0gZmlyc3RGbnMubGVuZ3RoID8gc2Vjb25kRm5zIDogZmlyc3RGbnM7XG5cblx0XHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdFx0d2FpdGluZyA9IGZhbHNlO1xuXG5cdFx0XHR3aGlsZShydW5GbnMubGVuZ3RoKXtcblx0XHRcdFx0cnVuRm5zLnNoaWZ0KCkoKTtcblx0XHRcdH1cblxuXHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdH07XG5cblx0XHR2YXIgcmFmQmF0Y2ggPSBmdW5jdGlvbihmbiwgcXVldWUpe1xuXHRcdFx0aWYocnVubmluZyAmJiAhcXVldWUpe1xuXHRcdFx0XHRmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm5zLnB1c2goZm4pO1xuXG5cdFx0XHRcdGlmKCF3YWl0aW5nKXtcblx0XHRcdFx0XHR3YWl0aW5nID0gdHJ1ZTtcblx0XHRcdFx0XHQoZG9jdW1lbnQuaGlkZGVuID8gc2V0VGltZW91dCA6IHJlcXVlc3RBbmltYXRpb25GcmFtZSkocnVuKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyYWZCYXRjaC5fbHNGbHVzaCA9IHJ1bjtcblxuXHRcdHJldHVybiByYWZCYXRjaDtcblx0fSkoKTtcblxuXHR2YXIgckFGSXQgPSBmdW5jdGlvbihmbiwgc2ltcGxlKXtcblx0XHRyZXR1cm4gc2ltcGxlID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyQUYoZm4pO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0XHRyQUYoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRmbi5hcHBseSh0aGF0LCBhcmdzKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0O1xuXHR9O1xuXG5cdHZhciB0aHJvdHRsZSA9IGZ1bmN0aW9uKGZuKXtcblx0XHR2YXIgcnVubmluZztcblx0XHR2YXIgbGFzdFRpbWUgPSAwO1xuXHRcdHZhciBnRGVsYXkgPSAxMjU7XG5cdFx0dmFyIHJJQ1RpbWVvdXQgPSBsYXp5U2l6ZXNDb25maWcucmljVGltZW91dDtcblx0XHR2YXIgcnVuID0gZnVuY3Rpb24oKXtcblx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRcdGZuKCk7XG5cdFx0fTtcblx0XHR2YXIgaWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFjayAmJiBsYXp5U2l6ZXNDb25maWcucmljVGltZW91dCA/XG5cdFx0XHRmdW5jdGlvbigpe1xuXHRcdFx0XHRyZXF1ZXN0SWRsZUNhbGxiYWNrKHJ1biwge3RpbWVvdXQ6IHJJQ1RpbWVvdXR9KTtcblxuXHRcdFx0XHRpZihySUNUaW1lb3V0ICE9PSBsYXp5U2l6ZXNDb25maWcucmljVGltZW91dCl7XG5cdFx0XHRcdFx0cklDVGltZW91dCA9IGxhenlTaXplc0NvbmZpZy5yaWNUaW1lb3V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IDpcblx0XHRcdHJBRkl0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNldFRpbWVvdXQocnVuKTtcblx0XHRcdH0sIHRydWUpXG5cdFx0O1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGlzUHJpb3JpdHkpe1xuXHRcdFx0dmFyIGRlbGF5O1xuXG5cdFx0XHRpZigoaXNQcmlvcml0eSA9IGlzUHJpb3JpdHkgPT09IHRydWUpKXtcblx0XHRcdFx0cklDVGltZW91dCA9IDMzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihydW5uaW5nKXtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRydW5uaW5nID0gIHRydWU7XG5cblx0XHRcdGRlbGF5ID0gZ0RlbGF5IC0gKERhdGUubm93KCkgLSBsYXN0VGltZSk7XG5cblx0XHRcdGlmKGRlbGF5IDwgMCl7XG5cdFx0XHRcdGRlbGF5ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0aWYoaXNQcmlvcml0eSB8fCAoZGVsYXkgPCA5ICYmIHJlcXVlc3RJZGxlQ2FsbGJhY2spKXtcblx0XHRcdFx0aWRsZUNhbGxiYWNrKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXRUaW1lb3V0KGlkbGVDYWxsYmFjaywgZGVsYXkpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH07XG5cblx0Ly9iYXNlZCBvbiBodHRwOi8vbW9kZXJuamF2YXNjcmlwdC5ibG9nc3BvdC5kZS8yMDEzLzA4L2J1aWxkaW5nLWJldHRlci1kZWJvdW5jZS5odG1sXG5cdHZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0XHR2YXIgdGltZW91dCwgdGltZXN0YW1wO1xuXHRcdHZhciB3YWl0ID0gOTk7XG5cdFx0dmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aW1lb3V0ID0gbnVsbDtcblx0XHRcdGZ1bmMoKTtcblx0XHR9O1xuXHRcdHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGxhc3QgPSBEYXRlLm5vdygpIC0gdGltZXN0YW1wO1xuXG5cdFx0XHRpZiAobGFzdCA8IHdhaXQpIHtcblx0XHRcdFx0c2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0KHJlcXVlc3RJZGxlQ2FsbGJhY2sgfHwgcnVuKShydW4pO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXG5cdFx0XHRpZiAoIXRpbWVvdXQpIHtcblx0XHRcdFx0dGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH07XG5cblx0KGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHByb3A7XG5cblx0XHR2YXIgbGF6eVNpemVzRGVmYXVsdHMgPSB7XG5cdFx0XHRsYXp5Q2xhc3M6ICdsYXp5bG9hZCcsXG5cdFx0XHRsb2FkZWRDbGFzczogJ2xhenlsb2FkZWQnLFxuXHRcdFx0bG9hZGluZ0NsYXNzOiAnbGF6eWxvYWRpbmcnLFxuXHRcdFx0cHJlbG9hZENsYXNzOiAnbGF6eXByZWxvYWQnLFxuXHRcdFx0ZXJyb3JDbGFzczogJ2xhenllcnJvcicsXG5cdFx0XHQvL3N0cmljdENsYXNzOiAnbGF6eXN0cmljdCcsXG5cdFx0XHRhdXRvc2l6ZXNDbGFzczogJ2xhenlhdXRvc2l6ZXMnLFxuXHRcdFx0c3JjQXR0cjogJ2RhdGEtc3JjJyxcblx0XHRcdHNyY3NldEF0dHI6ICdkYXRhLXNyY3NldCcsXG5cdFx0XHRzaXplc0F0dHI6ICdkYXRhLXNpemVzJyxcblx0XHRcdC8vcHJlbG9hZEFmdGVyTG9hZDogZmFsc2UsXG5cdFx0XHRtaW5TaXplOiA0MCxcblx0XHRcdGN1c3RvbU1lZGlhOiB7fSxcblx0XHRcdGluaXQ6IHRydWUsXG5cdFx0XHRleHBGYWN0b3I6IDEuNSxcblx0XHRcdGhGYWM6IDAuOCxcblx0XHRcdGxvYWRNb2RlOiAyLFxuXHRcdFx0bG9hZEhpZGRlbjogdHJ1ZSxcblx0XHRcdHJpY1RpbWVvdXQ6IDMwMCxcblx0XHR9O1xuXG5cdFx0bGF6eVNpemVzQ29uZmlnID0gd2luZG93LmxhenlTaXplc0NvbmZpZyB8fCB3aW5kb3cubGF6eXNpemVzQ29uZmlnIHx8IHt9O1xuXG5cdFx0Zm9yKHByb3AgaW4gbGF6eVNpemVzRGVmYXVsdHMpe1xuXHRcdFx0aWYoIShwcm9wIGluIGxhenlTaXplc0NvbmZpZykpe1xuXHRcdFx0XHRsYXp5U2l6ZXNDb25maWdbcHJvcF0gPSBsYXp5U2l6ZXNEZWZhdWx0c1twcm9wXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR3aW5kb3cubGF6eVNpemVzQ29uZmlnID0gbGF6eVNpemVzQ29uZmlnO1xuXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0aWYobGF6eVNpemVzQ29uZmlnLmluaXQpe1xuXHRcdFx0XHRpbml0KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pKCk7XG5cblx0dmFyIGxvYWRlciA9IChmdW5jdGlvbigpe1xuXHRcdHZhciBwcmVsb2FkRWxlbXMsIGlzQ29tcGxldGVkLCByZXNldFByZWxvYWRpbmdUaW1lciwgbG9hZE1vZGUsIHN0YXJ0ZWQ7XG5cblx0XHR2YXIgZUx2VywgZWx2SCwgZUx0b3AsIGVMbGVmdCwgZUxyaWdodCwgZUxib3R0b207XG5cblx0XHR2YXIgZGVmYXVsdEV4cGFuZCwgcHJlbG9hZEV4cGFuZCwgaEZhYztcblxuXHRcdHZhciByZWdJbWcgPSAvXmltZyQvaTtcblx0XHR2YXIgcmVnSWZyYW1lID0gL15pZnJhbWUkL2k7XG5cblx0XHR2YXIgc3VwcG9ydFNjcm9sbCA9ICgnb25zY3JvbGwnIGluIHdpbmRvdykgJiYgISgvZ2xlYm90Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtcblxuXHRcdHZhciBzaHJpbmtFeHBhbmQgPSAwO1xuXHRcdHZhciBjdXJyZW50RXhwYW5kID0gMDtcblxuXHRcdHZhciBpc0xvYWRpbmcgPSAwO1xuXHRcdHZhciBsb3dSdW5zID0gLTE7XG5cblx0XHR2YXIgcmVzZXRQcmVsb2FkaW5nID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRpc0xvYWRpbmctLTtcblx0XHRcdGlmKGUgJiYgZS50YXJnZXQpe1xuXHRcdFx0XHRhZGRSZW1vdmVMb2FkRXZlbnRzKGUudGFyZ2V0LCByZXNldFByZWxvYWRpbmcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZighZSB8fCBpc0xvYWRpbmcgPCAwIHx8ICFlLnRhcmdldCl7XG5cdFx0XHRcdGlzTG9hZGluZyA9IDA7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBpc05lc3RlZFZpc2libGUgPSBmdW5jdGlvbihlbGVtLCBlbGVtRXhwYW5kKXtcblx0XHRcdHZhciBvdXRlclJlY3Q7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbTtcblx0XHRcdHZhciB2aXNpYmxlID0gZ2V0Q1NTKGRvY3VtZW50LmJvZHksICd2aXNpYmlsaXR5JykgPT0gJ2hpZGRlbicgfHwgZ2V0Q1NTKGVsZW0sICd2aXNpYmlsaXR5JykgIT0gJ2hpZGRlbic7XG5cblx0XHRcdGVMdG9wIC09IGVsZW1FeHBhbmQ7XG5cdFx0XHRlTGJvdHRvbSArPSBlbGVtRXhwYW5kO1xuXHRcdFx0ZUxsZWZ0IC09IGVsZW1FeHBhbmQ7XG5cdFx0XHRlTHJpZ2h0ICs9IGVsZW1FeHBhbmQ7XG5cblx0XHRcdHdoaWxlKHZpc2libGUgJiYgKHBhcmVudCA9IHBhcmVudC5vZmZzZXRQYXJlbnQpICYmIHBhcmVudCAhPSBkb2N1bWVudC5ib2R5ICYmIHBhcmVudCAhPSBkb2NFbGVtKXtcblx0XHRcdFx0dmlzaWJsZSA9ICgoZ2V0Q1NTKHBhcmVudCwgJ29wYWNpdHknKSB8fCAxKSA+IDApO1xuXG5cdFx0XHRcdGlmKHZpc2libGUgJiYgZ2V0Q1NTKHBhcmVudCwgJ292ZXJmbG93JykgIT0gJ3Zpc2libGUnKXtcblx0XHRcdFx0XHRvdXRlclJlY3QgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0dmlzaWJsZSA9IGVMcmlnaHQgPiBvdXRlclJlY3QubGVmdCAmJlxuXHRcdFx0XHRcdFx0ZUxsZWZ0IDwgb3V0ZXJSZWN0LnJpZ2h0ICYmXG5cdFx0XHRcdFx0XHRlTGJvdHRvbSA+IG91dGVyUmVjdC50b3AgLSAxICYmXG5cdFx0XHRcdFx0XHRlTHRvcCA8IG91dGVyUmVjdC5ib3R0b20gKyAxXG5cdFx0XHRcdFx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2aXNpYmxlO1xuXHRcdH07XG5cblx0XHR2YXIgY2hlY2tFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVMbGVuLCBpLCByZWN0LCBhdXRvTG9hZEVsZW0sIGxvYWRlZFNvbWV0aGluZywgZWxlbUV4cGFuZCwgZWxlbU5lZ2F0aXZlRXhwYW5kLCBlbGVtRXhwYW5kVmFsLCBiZWZvcmVFeHBhbmRWYWw7XG5cblx0XHRcdHZhciBsYXp5bG9hZEVsZW1zID0gbGF6eXNpemVzLmVsZW1lbnRzO1xuXG5cdFx0XHRpZigobG9hZE1vZGUgPSBsYXp5U2l6ZXNDb25maWcubG9hZE1vZGUpICYmIGlzTG9hZGluZyA8IDggJiYgKGVMbGVuID0gbGF6eWxvYWRFbGVtcy5sZW5ndGgpKXtcblxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRsb3dSdW5zKys7XG5cblx0XHRcdFx0aWYocHJlbG9hZEV4cGFuZCA9PSBudWxsKXtcblx0XHRcdFx0XHRpZighKCdleHBhbmQnIGluIGxhenlTaXplc0NvbmZpZykpe1xuXHRcdFx0XHRcdFx0bGF6eVNpemVzQ29uZmlnLmV4cGFuZCA9IGRvY0VsZW0uY2xpZW50SGVpZ2h0ID4gNTAwICYmIGRvY0VsZW0uY2xpZW50V2lkdGggPiA1MDAgPyA1MDAgOiAzNzA7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZGVmYXVsdEV4cGFuZCA9IGxhenlTaXplc0NvbmZpZy5leHBhbmQ7XG5cdFx0XHRcdFx0cHJlbG9hZEV4cGFuZCA9IGRlZmF1bHRFeHBhbmQgKiBsYXp5U2l6ZXNDb25maWcuZXhwRmFjdG9yO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoY3VycmVudEV4cGFuZCA8IHByZWxvYWRFeHBhbmQgJiYgaXNMb2FkaW5nIDwgMSAmJiBsb3dSdW5zID4gMiAmJiBsb2FkTW9kZSA+IDIgJiYgIWRvY3VtZW50LmhpZGRlbil7XG5cdFx0XHRcdFx0Y3VycmVudEV4cGFuZCA9IHByZWxvYWRFeHBhbmQ7XG5cdFx0XHRcdFx0bG93UnVucyA9IDA7XG5cdFx0XHRcdH0gZWxzZSBpZihsb2FkTW9kZSA+IDEgJiYgbG93UnVucyA+IDEgJiYgaXNMb2FkaW5nIDwgNil7XG5cdFx0XHRcdFx0Y3VycmVudEV4cGFuZCA9IGRlZmF1bHRFeHBhbmQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3VycmVudEV4cGFuZCA9IHNocmlua0V4cGFuZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvcig7IGkgPCBlTGxlbjsgaSsrKXtcblxuXHRcdFx0XHRcdGlmKCFsYXp5bG9hZEVsZW1zW2ldIHx8IGxhenlsb2FkRWxlbXNbaV0uX2xhenlSYWNlKXtjb250aW51ZTt9XG5cblx0XHRcdFx0XHRpZighc3VwcG9ydFNjcm9sbCl7dW52ZWlsRWxlbWVudChsYXp5bG9hZEVsZW1zW2ldKTtjb250aW51ZTt9XG5cblx0XHRcdFx0XHRpZighKGVsZW1FeHBhbmRWYWwgPSBsYXp5bG9hZEVsZW1zW2ldW19nZXRBdHRyaWJ1dGVdKCdkYXRhLWV4cGFuZCcpKSB8fCAhKGVsZW1FeHBhbmQgPSBlbGVtRXhwYW5kVmFsICogMSkpe1xuXHRcdFx0XHRcdFx0ZWxlbUV4cGFuZCA9IGN1cnJlbnRFeHBhbmQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoYmVmb3JlRXhwYW5kVmFsICE9PSBlbGVtRXhwYW5kKXtcblx0XHRcdFx0XHRcdGVMdlcgPSBpbm5lcldpZHRoICsgKGVsZW1FeHBhbmQgKiBoRmFjKTtcblx0XHRcdFx0XHRcdGVsdkggPSBpbm5lckhlaWdodCArIGVsZW1FeHBhbmQ7XG5cdFx0XHRcdFx0XHRlbGVtTmVnYXRpdmVFeHBhbmQgPSBlbGVtRXhwYW5kICogLTE7XG5cdFx0XHRcdFx0XHRiZWZvcmVFeHBhbmRWYWwgPSBlbGVtRXhwYW5kO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlY3QgPSBsYXp5bG9hZEVsZW1zW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdFx0aWYgKChlTGJvdHRvbSA9IHJlY3QuYm90dG9tKSA+PSBlbGVtTmVnYXRpdmVFeHBhbmQgJiZcblx0XHRcdFx0XHRcdChlTHRvcCA9IHJlY3QudG9wKSA8PSBlbHZIICYmXG5cdFx0XHRcdFx0XHQoZUxyaWdodCA9IHJlY3QucmlnaHQpID49IGVsZW1OZWdhdGl2ZUV4cGFuZCAqIGhGYWMgJiZcblx0XHRcdFx0XHRcdChlTGxlZnQgPSByZWN0LmxlZnQpIDw9IGVMdlcgJiZcblx0XHRcdFx0XHRcdChlTGJvdHRvbSB8fCBlTHJpZ2h0IHx8IGVMbGVmdCB8fCBlTHRvcCkgJiZcblx0XHRcdFx0XHRcdChsYXp5U2l6ZXNDb25maWcubG9hZEhpZGRlbiB8fCBnZXRDU1MobGF6eWxvYWRFbGVtc1tpXSwgJ3Zpc2liaWxpdHknKSAhPSAnaGlkZGVuJykgJiZcblx0XHRcdFx0XHRcdCgoaXNDb21wbGV0ZWQgJiYgaXNMb2FkaW5nIDwgMyAmJiAhZWxlbUV4cGFuZFZhbCAmJiAobG9hZE1vZGUgPCAzIHx8IGxvd1J1bnMgPCA0KSkgfHwgaXNOZXN0ZWRWaXNpYmxlKGxhenlsb2FkRWxlbXNbaV0sIGVsZW1FeHBhbmQpKSl7XG5cdFx0XHRcdFx0XHR1bnZlaWxFbGVtZW50KGxhenlsb2FkRWxlbXNbaV0pO1xuXHRcdFx0XHRcdFx0bG9hZGVkU29tZXRoaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGlmKGlzTG9hZGluZyA+IDkpe2JyZWFrO31cblx0XHRcdFx0XHR9IGVsc2UgaWYoIWxvYWRlZFNvbWV0aGluZyAmJiBpc0NvbXBsZXRlZCAmJiAhYXV0b0xvYWRFbGVtICYmXG5cdFx0XHRcdFx0XHRpc0xvYWRpbmcgPCA0ICYmIGxvd1J1bnMgPCA0ICYmIGxvYWRNb2RlID4gMiAmJlxuXHRcdFx0XHRcdFx0KHByZWxvYWRFbGVtc1swXSB8fCBsYXp5U2l6ZXNDb25maWcucHJlbG9hZEFmdGVyTG9hZCkgJiZcblx0XHRcdFx0XHRcdChwcmVsb2FkRWxlbXNbMF0gfHwgKCFlbGVtRXhwYW5kVmFsICYmICgoZUxib3R0b20gfHwgZUxyaWdodCB8fCBlTGxlZnQgfHwgZUx0b3ApIHx8IGxhenlsb2FkRWxlbXNbaV1bX2dldEF0dHJpYnV0ZV0obGF6eVNpemVzQ29uZmlnLnNpemVzQXR0cikgIT0gJ2F1dG8nKSkpKXtcblx0XHRcdFx0XHRcdGF1dG9Mb2FkRWxlbSA9IHByZWxvYWRFbGVtc1swXSB8fCBsYXp5bG9hZEVsZW1zW2ldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGF1dG9Mb2FkRWxlbSAmJiAhbG9hZGVkU29tZXRoaW5nKXtcblx0XHRcdFx0XHR1bnZlaWxFbGVtZW50KGF1dG9Mb2FkRWxlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0dmFyIHRocm90dGxlZENoZWNrRWxlbWVudHMgPSB0aHJvdHRsZShjaGVja0VsZW1lbnRzKTtcblxuXHRcdHZhciBzd2l0Y2hMb2FkaW5nQ2xhc3MgPSBmdW5jdGlvbihlKXtcblx0XHRcdGFkZENsYXNzKGUudGFyZ2V0LCBsYXp5U2l6ZXNDb25maWcubG9hZGVkQ2xhc3MpO1xuXHRcdFx0cmVtb3ZlQ2xhc3MoZS50YXJnZXQsIGxhenlTaXplc0NvbmZpZy5sb2FkaW5nQ2xhc3MpO1xuXHRcdFx0YWRkUmVtb3ZlTG9hZEV2ZW50cyhlLnRhcmdldCwgcmFmU3dpdGNoTG9hZGluZ0NsYXNzKTtcblx0XHRcdHRyaWdnZXJFdmVudChlLnRhcmdldCwgJ2xhenlsb2FkZWQnKTtcblx0XHR9O1xuXHRcdHZhciByYWZlZFN3aXRjaExvYWRpbmdDbGFzcyA9IHJBRkl0KHN3aXRjaExvYWRpbmdDbGFzcyk7XG5cdFx0dmFyIHJhZlN3aXRjaExvYWRpbmdDbGFzcyA9IGZ1bmN0aW9uKGUpe1xuXHRcdFx0cmFmZWRTd2l0Y2hMb2FkaW5nQ2xhc3Moe3RhcmdldDogZS50YXJnZXR9KTtcblx0XHR9O1xuXG5cdFx0dmFyIGNoYW5nZUlmcmFtZVNyYyA9IGZ1bmN0aW9uKGVsZW0sIHNyYyl7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRlbGVtLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVwbGFjZShzcmMpO1xuXHRcdFx0fSBjYXRjaChlKXtcblx0XHRcdFx0ZWxlbS5zcmMgPSBzcmM7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBoYW5kbGVTb3VyY2VzID0gZnVuY3Rpb24oc291cmNlKXtcblx0XHRcdHZhciBjdXN0b21NZWRpYTtcblxuXHRcdFx0dmFyIHNvdXJjZVNyY3NldCA9IHNvdXJjZVtfZ2V0QXR0cmlidXRlXShsYXp5U2l6ZXNDb25maWcuc3Jjc2V0QXR0cik7XG5cblx0XHRcdGlmKCAoY3VzdG9tTWVkaWEgPSBsYXp5U2l6ZXNDb25maWcuY3VzdG9tTWVkaWFbc291cmNlW19nZXRBdHRyaWJ1dGVdKCdkYXRhLW1lZGlhJykgfHwgc291cmNlW19nZXRBdHRyaWJ1dGVdKCdtZWRpYScpXSkgKXtcblx0XHRcdFx0c291cmNlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBjdXN0b21NZWRpYSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKHNvdXJjZVNyY3NldCl7XG5cdFx0XHRcdHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsIHNvdXJjZVNyY3NldCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBsYXp5VW52ZWlsID0gckFGSXQoZnVuY3Rpb24gKGVsZW0sIGRldGFpbCwgaXNBdXRvLCBzaXplcywgaXNJbWcpe1xuXHRcdFx0dmFyIHNyYywgc3Jjc2V0LCBwYXJlbnQsIGlzUGljdHVyZSwgZXZlbnQsIGZpcmVzTG9hZDtcblxuXHRcdFx0aWYoIShldmVudCA9IHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eWJlZm9yZXVudmVpbCcsIGRldGFpbCkpLmRlZmF1bHRQcmV2ZW50ZWQpe1xuXG5cdFx0XHRcdGlmKHNpemVzKXtcblx0XHRcdFx0XHRpZihpc0F1dG8pe1xuXHRcdFx0XHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ29uZmlnLmF1dG9zaXplc0NsYXNzKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgc2l6ZXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNyY3NldCA9IGVsZW1bX2dldEF0dHJpYnV0ZV0obGF6eVNpemVzQ29uZmlnLnNyY3NldEF0dHIpO1xuXHRcdFx0XHRzcmMgPSBlbGVtW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NvbmZpZy5zcmNBdHRyKTtcblxuXHRcdFx0XHRpZihpc0ltZykge1xuXHRcdFx0XHRcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRpc1BpY3R1cmUgPSBwYXJlbnQgJiYgcmVnUGljdHVyZS50ZXN0KHBhcmVudC5ub2RlTmFtZSB8fCAnJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmaXJlc0xvYWQgPSBkZXRhaWwuZmlyZXNMb2FkIHx8ICgoJ3NyYycgaW4gZWxlbSkgJiYgKHNyY3NldCB8fCBzcmMgfHwgaXNQaWN0dXJlKSk7XG5cblx0XHRcdFx0ZXZlbnQgPSB7dGFyZ2V0OiBlbGVtfTtcblxuXHRcdFx0XHRpZihmaXJlc0xvYWQpe1xuXHRcdFx0XHRcdGFkZFJlbW92ZUxvYWRFdmVudHMoZWxlbSwgcmVzZXRQcmVsb2FkaW5nLCB0cnVlKTtcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQocmVzZXRQcmVsb2FkaW5nVGltZXIpO1xuXHRcdFx0XHRcdHJlc2V0UHJlbG9hZGluZ1RpbWVyID0gc2V0VGltZW91dChyZXNldFByZWxvYWRpbmcsIDI1MDApO1xuXG5cdFx0XHRcdFx0YWRkQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ29uZmlnLmxvYWRpbmdDbGFzcyk7XG5cdFx0XHRcdFx0YWRkUmVtb3ZlTG9hZEV2ZW50cyhlbGVtLCByYWZTd2l0Y2hMb2FkaW5nQ2xhc3MsIHRydWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoaXNQaWN0dXJlKXtcblx0XHRcdFx0XHRmb3JFYWNoLmNhbGwocGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzb3VyY2UnKSwgaGFuZGxlU291cmNlcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihzcmNzZXQpe1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCdzcmNzZXQnLCBzcmNzZXQpO1xuXHRcdFx0XHR9IGVsc2UgaWYoc3JjICYmICFpc1BpY3R1cmUpe1xuXHRcdFx0XHRcdGlmKHJlZ0lmcmFtZS50ZXN0KGVsZW0ubm9kZU5hbWUpKXtcblx0XHRcdFx0XHRcdGNoYW5nZUlmcmFtZVNyYyhlbGVtLCBzcmMpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNyYyA9IHNyYztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihpc0ltZyAmJiAoc3Jjc2V0IHx8IGlzUGljdHVyZSkpe1xuXHRcdFx0XHRcdHVwZGF0ZVBvbHlmaWxsKGVsZW0sIHtzcmM6IHNyY30pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmKGVsZW0uX2xhenlSYWNlKXtcblx0XHRcdFx0ZGVsZXRlIGVsZW0uX2xhenlSYWNlO1xuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ29uZmlnLmxhenlDbGFzcyk7XG5cblx0XHRcdHJBRihmdW5jdGlvbigpe1xuXHRcdFx0XHRpZiggIWZpcmVzTG9hZCB8fCAoZWxlbS5jb21wbGV0ZSAmJiBlbGVtLm5hdHVyYWxXaWR0aCA+IDEpKXtcblx0XHRcdFx0XHRpZihmaXJlc0xvYWQpe1xuXHRcdFx0XHRcdFx0cmVzZXRQcmVsb2FkaW5nKGV2ZW50KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aXNMb2FkaW5nLS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN3aXRjaExvYWRpbmdDbGFzcyhldmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHRydWUpO1xuXHRcdH0pO1xuXG5cdFx0dmFyIHVudmVpbEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbSl7XG5cdFx0XHR2YXIgZGV0YWlsO1xuXG5cdFx0XHR2YXIgaXNJbWcgPSByZWdJbWcudGVzdChlbGVtLm5vZGVOYW1lKTtcblxuXHRcdFx0Ly9hbGxvdyB1c2luZyBzaXplcz1cImF1dG9cIiwgYnV0IGRvbid0IHVzZS4gaXQncyBpbnZhbGlkLiBVc2UgZGF0YS1zaXplcz1cImF1dG9cIiBvciBhIHZhbGlkIHZhbHVlIGZvciBzaXplcyBpbnN0ZWFkIChpLmUuOiBzaXplcz1cIjgwdndcIilcblx0XHRcdHZhciBzaXplcyA9IGlzSW1nICYmIChlbGVtW19nZXRBdHRyaWJ1dGVdKGxhenlTaXplc0NvbmZpZy5zaXplc0F0dHIpIHx8IGVsZW1bX2dldEF0dHJpYnV0ZV0oJ3NpemVzJykpO1xuXHRcdFx0dmFyIGlzQXV0byA9IHNpemVzID09ICdhdXRvJztcblxuXHRcdFx0aWYoIChpc0F1dG8gfHwgIWlzQ29tcGxldGVkKSAmJiBpc0ltZyAmJiAoZWxlbVtfZ2V0QXR0cmlidXRlXSgnc3JjJykgfHwgZWxlbS5zcmNzZXQpICYmICFlbGVtLmNvbXBsZXRlICYmICFoYXNDbGFzcyhlbGVtLCBsYXp5U2l6ZXNDb25maWcuZXJyb3JDbGFzcykgJiYgaGFzQ2xhc3MoZWxlbSwgbGF6eVNpemVzQ29uZmlnLmxhenlDbGFzcykpe3JldHVybjt9XG5cblx0XHRcdGRldGFpbCA9IHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eXVudmVpbHJlYWQnKS5kZXRhaWw7XG5cblx0XHRcdGlmKGlzQXV0byl7XG5cdFx0XHRcdCBhdXRvU2l6ZXIudXBkYXRlRWxlbShlbGVtLCB0cnVlLCBlbGVtLm9mZnNldFdpZHRoKTtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5fbGF6eVJhY2UgPSB0cnVlO1xuXHRcdFx0aXNMb2FkaW5nKys7XG5cblx0XHRcdGxhenlVbnZlaWwoZWxlbSwgZGV0YWlsLCBpc0F1dG8sIHNpemVzLCBpc0ltZyk7XG5cdFx0fTtcblxuXHRcdHZhciBvbmxvYWQgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYoaXNDb21wbGV0ZWQpe3JldHVybjt9XG5cdFx0XHRpZihEYXRlLm5vdygpIC0gc3RhcnRlZCA8IDk5OSl7XG5cdFx0XHRcdHNldFRpbWVvdXQob25sb2FkLCA5OTkpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR2YXIgYWZ0ZXJTY3JvbGwgPSBkZWJvdW5jZShmdW5jdGlvbigpe1xuXHRcdFx0XHRsYXp5U2l6ZXNDb25maWcubG9hZE1vZGUgPSAzO1xuXHRcdFx0XHR0aHJvdHRsZWRDaGVja0VsZW1lbnRzKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aXNDb21wbGV0ZWQgPSB0cnVlO1xuXG5cdFx0XHRsYXp5U2l6ZXNDb25maWcubG9hZE1vZGUgPSAzO1xuXG5cdFx0XHR0aHJvdHRsZWRDaGVja0VsZW1lbnRzKCk7XG5cblx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmKGxhenlTaXplc0NvbmZpZy5sb2FkTW9kZSA9PSAzKXtcblx0XHRcdFx0XHRsYXp5U2l6ZXNDb25maWcubG9hZE1vZGUgPSAyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGFmdGVyU2Nyb2xsKCk7XG5cdFx0XHR9LCB0cnVlKTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdF86IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHN0YXJ0ZWQgPSBEYXRlLm5vdygpO1xuXG5cdFx0XHRcdGxhenlzaXplcy5lbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGF6eVNpemVzQ29uZmlnLmxhenlDbGFzcyk7XG5cdFx0XHRcdHByZWxvYWRFbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGF6eVNpemVzQ29uZmlnLmxhenlDbGFzcyArICcgJyArIGxhenlTaXplc0NvbmZpZy5wcmVsb2FkQ2xhc3MpO1xuXHRcdFx0XHRoRmFjID0gbGF6eVNpemVzQ29uZmlnLmhGYWM7XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cblx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cblx0XHRcdFx0aWYod2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIpe1xuXHRcdFx0XHRcdG5ldyBNdXRhdGlvbk9ic2VydmVyKCB0aHJvdHRsZWRDaGVja0VsZW1lbnRzICkub2JzZXJ2ZSggZG9jRWxlbSwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgYXR0cmlidXRlczogdHJ1ZX0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkb2NFbGVtW19hZGRFdmVudExpc3RlbmVyXSgnRE9NTm9kZUluc2VydGVkJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cdFx0XHRcdFx0ZG9jRWxlbVtfYWRkRXZlbnRMaXN0ZW5lcl0oJ0RPTUF0dHJNb2RpZmllZCcsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXHRcdFx0XHRcdHNldEludGVydmFsKHRocm90dGxlZENoZWNrRWxlbWVudHMsIDk5OSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cywgdHJ1ZSk7XG5cblx0XHRcdFx0Ly8sICdmdWxsc2NyZWVuY2hhbmdlJ1xuXHRcdFx0XHRbJ2ZvY3VzJywgJ21vdXNlb3ZlcicsICdjbGljaycsICdsb2FkJywgJ3RyYW5zaXRpb25lbmQnLCAnYW5pbWF0aW9uZW5kJywgJ3dlYmtpdEFuaW1hdGlvbkVuZCddLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdFx0ZG9jdW1lbnRbX2FkZEV2ZW50TGlzdGVuZXJdKG5hbWUsIHRocm90dGxlZENoZWNrRWxlbWVudHMsIHRydWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZigoL2QkfF5jLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSl7XG5cdFx0XHRcdFx0b25sb2FkKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9ubG9hZCk7XG5cdFx0XHRcdFx0ZG9jdW1lbnRbX2FkZEV2ZW50TGlzdGVuZXJdKCdET01Db250ZW50TG9hZGVkJywgdGhyb3R0bGVkQ2hlY2tFbGVtZW50cyk7XG5cdFx0XHRcdFx0c2V0VGltZW91dChvbmxvYWQsIDIwMDAwKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKGxhenlzaXplcy5lbGVtZW50cy5sZW5ndGgpe1xuXHRcdFx0XHRcdGNoZWNrRWxlbWVudHMoKTtcblx0XHRcdFx0XHRyQUYuX2xzRmx1c2goKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdHRsZWRDaGVja0VsZW1lbnRzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjaGVja0VsZW1zOiB0aHJvdHRsZWRDaGVja0VsZW1lbnRzLFxuXHRcdFx0dW52ZWlsOiB1bnZlaWxFbGVtZW50XG5cdFx0fTtcblx0fSkoKTtcblxuXG5cdHZhciBhdXRvU2l6ZXIgPSAoZnVuY3Rpb24oKXtcblx0XHR2YXIgYXV0b3NpemVzRWxlbXM7XG5cblx0XHR2YXIgc2l6ZUVsZW1lbnQgPSByQUZJdChmdW5jdGlvbihlbGVtLCBwYXJlbnQsIGV2ZW50LCB3aWR0aCl7XG5cdFx0XHR2YXIgc291cmNlcywgaSwgbGVuO1xuXHRcdFx0ZWxlbS5fbGF6eXNpemVzV2lkdGggPSB3aWR0aDtcblx0XHRcdHdpZHRoICs9ICdweCc7XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCdzaXplcycsIHdpZHRoKTtcblxuXHRcdFx0aWYocmVnUGljdHVyZS50ZXN0KHBhcmVudC5ub2RlTmFtZSB8fCAnJykpe1xuXHRcdFx0XHRzb3VyY2VzID0gcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzb3VyY2UnKTtcblx0XHRcdFx0Zm9yKGkgPSAwLCBsZW4gPSBzb3VyY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcblx0XHRcdFx0XHRzb3VyY2VzW2ldLnNldEF0dHJpYnV0ZSgnc2l6ZXMnLCB3aWR0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYoIWV2ZW50LmRldGFpbC5kYXRhQXR0cil7XG5cdFx0XHRcdHVwZGF0ZVBvbHlmaWxsKGVsZW0sIGV2ZW50LmRldGFpbCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGdldFNpemVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW0sIGRhdGFBdHRyLCB3aWR0aCl7XG5cdFx0XHR2YXIgZXZlbnQ7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZihwYXJlbnQpe1xuXHRcdFx0XHR3aWR0aCA9IGdldFdpZHRoKGVsZW0sIHBhcmVudCwgd2lkdGgpO1xuXHRcdFx0XHRldmVudCA9IHRyaWdnZXJFdmVudChlbGVtLCAnbGF6eWJlZm9yZXNpemVzJywge3dpZHRoOiB3aWR0aCwgZGF0YUF0dHI6ICEhZGF0YUF0dHJ9KTtcblxuXHRcdFx0XHRpZighZXZlbnQuZGVmYXVsdFByZXZlbnRlZCl7XG5cdFx0XHRcdFx0d2lkdGggPSBldmVudC5kZXRhaWwud2lkdGg7XG5cblx0XHRcdFx0XHRpZih3aWR0aCAmJiB3aWR0aCAhPT0gZWxlbS5fbGF6eXNpemVzV2lkdGgpe1xuXHRcdFx0XHRcdFx0c2l6ZUVsZW1lbnQoZWxlbSwgcGFyZW50LCBldmVudCwgd2lkdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgdXBkYXRlRWxlbWVudHNTaXplcyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgaTtcblx0XHRcdHZhciBsZW4gPSBhdXRvc2l6ZXNFbGVtcy5sZW5ndGg7XG5cdFx0XHRpZihsZW4pe1xuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRmb3IoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRcdGdldFNpemVFbGVtZW50KGF1dG9zaXplc0VsZW1zW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGVib3VuY2VkVXBkYXRlRWxlbWVudHNTaXplcyA9IGRlYm91bmNlKHVwZGF0ZUVsZW1lbnRzU2l6ZXMpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdF86IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGF1dG9zaXplc0VsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShsYXp5U2l6ZXNDb25maWcuYXV0b3NpemVzQ2xhc3MpO1xuXHRcdFx0XHRhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzKTtcblx0XHRcdH0sXG5cdFx0XHRjaGVja0VsZW1zOiBkZWJvdW5jZWRVcGRhdGVFbGVtZW50c1NpemVzLFxuXHRcdFx0dXBkYXRlRWxlbTogZ2V0U2l6ZUVsZW1lbnRcblx0XHR9O1xuXHR9KSgpO1xuXG5cdHZhciBpbml0ID0gZnVuY3Rpb24oKXtcblx0XHRpZighaW5pdC5pKXtcblx0XHRcdGluaXQuaSA9IHRydWU7XG5cdFx0XHRhdXRvU2l6ZXIuXygpO1xuXHRcdFx0bG9hZGVyLl8oKTtcblx0XHR9XG5cdH07XG5cblx0bGF6eXNpemVzID0ge1xuXHRcdGNmZzogbGF6eVNpemVzQ29uZmlnLFxuXHRcdGF1dG9TaXplcjogYXV0b1NpemVyLFxuXHRcdGxvYWRlcjogbG9hZGVyLFxuXHRcdGluaXQ6IGluaXQsXG5cdFx0dVA6IHVwZGF0ZVBvbHlmaWxsLFxuXHRcdGFDOiBhZGRDbGFzcyxcblx0XHRyQzogcmVtb3ZlQ2xhc3MsXG5cdFx0aEM6IGhhc0NsYXNzLFxuXHRcdGZpcmU6IHRyaWdnZXJFdmVudCxcblx0XHRnVzogZ2V0V2lkdGgsXG5cdFx0ckFGOiByQUYsXG5cdH07XG5cblx0cmV0dXJuIGxhenlzaXplcztcbn1cbikpO1xuIiwiIWZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcm9vdC5zdmc0ZXZlcnlib2R5ID0gZmFjdG9yeSgpO1xuICAgIH0pIDogXCJvYmplY3RcIiA9PSB0eXBlb2YgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzID8gLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDogcm9vdC5zdmc0ZXZlcnlib2R5ID0gZmFjdG9yeSgpO1xufSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgICAvKiEgc3ZnNGV2ZXJ5Ym9keSB2Mi4xLjkgfCBnaXRodWIuY29tL2pvbmF0aGFudG5lYWwvc3ZnNGV2ZXJ5Ym9keSAqL1xuICAgIGZ1bmN0aW9uIGVtYmVkKHBhcmVudCwgc3ZnLCB0YXJnZXQpIHtcbiAgICAgICAgLy8gaWYgdGhlIHRhcmdldCBleGlzdHNcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGEgZG9jdW1lbnQgZnJhZ21lbnQgdG8gaG9sZCB0aGUgY29udGVudHMgb2YgdGhlIHRhcmdldFxuICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCB2aWV3Qm94ID0gIXN2Zy5oYXNBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIpICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIpO1xuICAgICAgICAgICAgLy8gY29uZGl0aW9uYWxseSBzZXQgdGhlIHZpZXdCb3ggb24gdGhlIHN2Z1xuICAgICAgICAgICAgdmlld0JveCAmJiBzdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCB2aWV3Qm94KTtcbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGNvbnRlbnRzIG9mIHRoZSBjbG9uZSBpbnRvIHRoZSBmcmFnbWVudFxuICAgICAgICAgICAgZm9yICgvLyBjbG9uZSB0aGUgdGFyZ2V0XG4gICAgICAgICAgICB2YXIgY2xvbmUgPSB0YXJnZXQuY2xvbmVOb2RlKCEwKTsgY2xvbmUuY2hpbGROb2Rlcy5sZW5ndGg7ICkge1xuICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNsb25lLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBzdmdcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbG9hZHJlYWR5c3RhdGVjaGFuZ2UoeGhyKSB7XG4gICAgICAgIC8vIGxpc3RlbiB0byBjaGFuZ2VzIGluIHRoZSByZXF1ZXN0XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSByZXF1ZXN0IGlzIHJlYWR5XG4gICAgICAgICAgICBpZiAoNCA9PT0geGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGNhY2hlZCBodG1sIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgdmFyIGNhY2hlZERvY3VtZW50ID0geGhyLl9jYWNoZWREb2N1bWVudDtcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdGhlIGNhY2hlZCBodG1sIGRvY3VtZW50IGJhc2VkIG9uIHRoZSB4aHIgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICBjYWNoZWREb2N1bWVudCB8fCAoY2FjaGVkRG9jdW1lbnQgPSB4aHIuX2NhY2hlZERvY3VtZW50ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLCBcbiAgICAgICAgICAgICAgICBjYWNoZWREb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IHhoci5yZXNwb25zZVRleHQsIHhoci5fY2FjaGVkVGFyZ2V0ID0ge30pLCAvLyBjbGVhciB0aGUgeGhyIGVtYmVkcyBsaXN0IGFuZCBlbWJlZCBlYWNoIGl0ZW1cbiAgICAgICAgICAgICAgICB4aHIuX2VtYmVkcy5zcGxpY2UoMCkubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBjYWNoZWQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSB4aHIuX2NhY2hlZFRhcmdldFtpdGVtLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoZSBjYWNoZWQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCB8fCAodGFyZ2V0ID0geGhyLl9jYWNoZWRUYXJnZXRbaXRlbS5pZF0gPSBjYWNoZWREb2N1bWVudC5nZXRFbGVtZW50QnlJZChpdGVtLmlkKSksIFxuICAgICAgICAgICAgICAgICAgICAvLyBlbWJlZCB0aGUgdGFyZ2V0IGludG8gdGhlIHN2Z1xuICAgICAgICAgICAgICAgICAgICBlbWJlZChpdGVtLnBhcmVudCwgaXRlbS5zdmcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIC8vIHRlc3QgdGhlIHJlYWR5IHN0YXRlIGNoYW5nZSBpbW1lZGlhdGVseVxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN2ZzRldmVyeWJvZHkocmF3b3B0cykge1xuICAgICAgICBmdW5jdGlvbiBvbmludGVydmFsKCkge1xuICAgICAgICAgICAgLy8gd2hpbGUgdGhlIGluZGV4IGV4aXN0cyBpbiB0aGUgbGl2ZSA8dXNlPiBjb2xsZWN0aW9uXG4gICAgICAgICAgICBmb3IgKC8vIGdldCB0aGUgY2FjaGVkIDx1c2U+IGluZGV4XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAwOyBpbmRleCA8IHVzZXMubGVuZ3RoOyApIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgPHVzZT5cbiAgICAgICAgICAgICAgICB2YXIgdXNlID0gdXNlc1tpbmRleF0sIHBhcmVudCA9IHVzZS5wYXJlbnROb2RlLCBzdmcgPSBnZXRTVkdBbmNlc3RvcihwYXJlbnQpLCBzcmMgPSB1c2UuZ2V0QXR0cmlidXRlKFwieGxpbms6aHJlZlwiKSB8fCB1c2UuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNyYyAmJiBvcHRzLmF0dHJpYnV0ZU5hbWUgJiYgKHNyYyA9IHVzZS5nZXRBdHRyaWJ1dGUob3B0cy5hdHRyaWJ1dGVOYW1lKSksIFxuICAgICAgICAgICAgICAgIHN2ZyAmJiBzcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvbHlmaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMudmFsaWRhdGUgfHwgb3B0cy52YWxpZGF0ZShzcmMsIHN2ZywgdXNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgPHVzZT4gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh1c2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcnNlIHRoZSBzcmMgYW5kIGdldCB0aGUgdXJsIGFuZCBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmNTcGxpdCA9IHNyYy5zcGxpdChcIiNcIiksIHVybCA9IHNyY1NwbGl0LnNoaWZ0KCksIGlkID0gc3JjU3BsaXQuam9pbihcIiNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGxpbmsgaXMgZXh0ZXJuYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGNhY2hlZCB4aHIgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeGhyID0gcmVxdWVzdHNbdXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHRoZSB4aHIgcmVxdWVzdCBleGlzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyIHx8ICh4aHIgPSByZXF1ZXN0c1t1cmxdID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksIHhoci5vcGVuKFwiR0VUXCIsIHVybCksIHhoci5zZW5kKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuX2VtYmVkcyA9IFtdKSwgLy8gYWRkIHRoZSBzdmcgYW5kIGlkIGFzIGFuIGl0ZW0gdG8gdGhlIHhociBlbWJlZHMgbGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuX2VtYmVkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIC8vIHByZXBhcmUgdGhlIHhociByZWFkeSBzdGF0ZSBjaGFuZ2UgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZHJlYWR5c3RhdGVjaGFuZ2UoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbWJlZCB0aGUgbG9jYWwgaWQgaW50byB0aGUgc3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkKHBhcmVudCwgc3ZnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgdGhlIGluZGV4IHdoZW4gdGhlIHByZXZpb3VzIHZhbHVlIHdhcyBub3QgXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKytpbmRleCwgKytudW1iZXJPZlN2Z1VzZUVsZW1lbnRzVG9CeXBhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbmNyZWFzZSB0aGUgaW5kZXggd2hlbiB0aGUgcHJldmlvdXMgdmFsdWUgd2FzIG5vdCBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb250aW51ZSB0aGUgaW50ZXJ2YWxcbiAgICAgICAgICAgICghdXNlcy5sZW5ndGggfHwgdXNlcy5sZW5ndGggLSBudW1iZXJPZlN2Z1VzZUVsZW1lbnRzVG9CeXBhc3MgPiAwKSAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25pbnRlcnZhbCwgNjcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2x5ZmlsbCwgb3B0cyA9IE9iamVjdChyYXdvcHRzKSwgbmV3ZXJJRVVBID0gL1xcYlRyaWRlbnRcXC9bNTY3XVxcYnxcXGJNU0lFICg/Ojl8MTApXFwuMFxcYi8sIHdlYmtpdFVBID0gL1xcYkFwcGxlV2ViS2l0XFwvKFxcZCspXFxiLywgb2xkZXJFZGdlVUEgPSAvXFxiRWRnZVxcLzEyXFwuKFxcZCspXFxiLywgZWRnZVVBID0gL1xcYkVkZ2VcXC8uKFxcZCspXFxiLywgaW5JZnJhbWUgPSB3aW5kb3cudG9wICE9PSB3aW5kb3cuc2VsZjtcbiAgICAgICAgcG9seWZpbGwgPSBcInBvbHlmaWxsXCIgaW4gb3B0cyA/IG9wdHMucG9seWZpbGwgOiBuZXdlcklFVUEudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChvbGRlckVkZ2VVQSkgfHwgW10pWzFdIDwgMTA1NDcgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2god2Via2l0VUEpIHx8IFtdKVsxXSA8IDUzNyB8fCBlZGdlVUEudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiBpbklmcmFtZTtcbiAgICAgICAgLy8gY3JlYXRlIHhociByZXF1ZXN0cyBvYmplY3RcbiAgICAgICAgdmFyIHJlcXVlc3RzID0ge30sIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgc2V0VGltZW91dCwgdXNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidXNlXCIpLCBudW1iZXJPZlN2Z1VzZUVsZW1lbnRzVG9CeXBhc3MgPSAwO1xuICAgICAgICAvLyBjb25kaXRpb25hbGx5IHN0YXJ0IHRoZSBpbnRlcnZhbCBpZiB0aGUgcG9seWZpbGwgaXMgYWN0aXZlXG4gICAgICAgIHBvbHlmaWxsICYmIG9uaW50ZXJ2YWwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U1ZHQW5jZXN0b3Iobm9kZSkge1xuICAgICAgICBmb3IgKHZhciBzdmcgPSBub2RlOyBcInN2Z1wiICE9PSBzdmcubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiAoc3ZnID0gc3ZnLnBhcmVudE5vZGUpOyApIHt9XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuICAgIHJldHVybiBzdmc0ZXZlcnlib2R5O1xufSk7IiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIHJldHVybiBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxudmFyIHJuZztcblxudmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvOyAvLyBmb3IgSUUgMTFcbmlmIChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gIHJuZyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59XG5cbmlmICghcm5nKSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuICBybmcgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBybmc7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSAocm5kc1s2XSAmIDB4MGYpIHwgMHg0MDtcbiAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG4gICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYgfHwgYnl0ZXNUb1V1aWQocm5kcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjQ7XG4iLCJjb25zdCBlYXNpbmcgPSB7XG4gIGxpbmVhcjogdCA9PiB0LFxuICBlYXNlSW5RdWFkOiB0ID0+IHQgKiB0LFxuICBlYXNlT3V0UXVhZDogdCA9PiB0ICogKDIgLSB0KSxcbiAgZWFzZUluT3V0UXVhZDogdCA9PiAodCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0KSxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gKC0tdCkgKiB0ICogdCArIDEsXG4gIGVhc2VJbk91dEN1YmljOiB0ID0+ICh0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSksXG4gIGVhc2VJblF1YXJ0OiB0ID0+IHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWFydDogdCA9PiAxIC0gKC0tdCkgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+ICh0IDwgMC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqICgtLXQpICogdCAqIHQgKiB0KSxcbiAgZWFzZUluUXVpbnQ6IHQgPT4gdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWludDogdCA9PiAxICsgKC0tdCkgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWludDogdCA9PiAodCA8IDAuNSA/IDE2ICogdCAqIHQgKiB0ICogdCAqIHQgOiAxICsgMTYgKiAoLS10KSAqIHQgKiB0ICogdCAqIHQpLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZWFzaW5nO1xuIiwiaW1wb3J0IHV1aWR2NCBmcm9tICd1dWlkL3Y0JztcblxuY29uc3QgVFJBQ0tJTkdfSUQgPSAnVUEtNDY4ODQxMTEtNCc7XG5jb25zdCBUUkFDS0lOR19WRVJTSU9OID0gJzEnO1xuY29uc3QgTlVMTF9WQUxVRSA9ICcobm90IHNldCknO1xuXG5jb25zdCBkaW1lbnNpb25zID0ge1xuICBUUkFDS0lOR19WRVJTSU9OOiAnZGltZW5zaW9uMScsXG4gIENMSUVOVF9JRDogJ2RpbWVuc2lvbjInLFxuICBXSU5ET1dfSUQ6ICdkaW1lbnNpb24zJyxcbiAgSElUX0lEOiAnZGltZW5zaW9uNCcsXG4gIEhJVF9USU1FOiAnZGltZW5zaW9uNScsXG4gIEhJVF9UWVBFOiAnZGltZW5zaW9uNicsXG4gIEhJVF9TT1VSQ0U6ICdkaW1lbnNpb243JyxcbiAgVklTSUJJTElUWV9TVEFURTogJ2RpbWVuc2lvbjgnLFxufTtcblxuY29uc3QgbWV0cmljcyA9IHtcbiAgUkVTUE9OU0VfRU5EX1RJTUU6ICdtZXRyaWMxJyxcbiAgRE9NX0xPQURfVElNRTogJ21ldHJpYzInLFxuICBXSU5ET1dfTE9BRF9USU1FOiAnbWV0cmljMycsXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVUcmFja2VyKCkge1xuICB3aW5kb3cuZ2EoJ2NyZWF0ZScsIFRSQUNLSU5HX0lELCAnYXV0bycpO1xuICB3aW5kb3cuZ2EoJ3NldCcsICd0cmFuc3BvcnQnLCAnYmVhY29uJyk7XG59XG5cbmZ1bmN0aW9uIHNlbmRJbml0aWFsUGFnZXZpZXcoKSB7XG4gIHdpbmRvdy5nYSgnc2VuZCcsICdwYWdldmlldycsIHtcbiAgICBbZGltZW5zaW9ucy5ISVRfU09VUkNFXTogJ3BhZ2Vsb2FkJyxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlbmROYXZpZ2F0aW9uVGltaW5nTWV0cmljcygpIHtcbiAgaWYgKCEod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdjb21wbGV0ZScpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHNlbmROYXZpZ2F0aW9uVGltaW5nTWV0cmljcyk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBudCA9IHBlcmZvcm1hbmNlLnRpbWluZztcbiAgY29uc3QgbmF2U3RhcnQgPSBudC5uYXZpZ2F0aW9uU3RhcnQ7XG5cbiAgY29uc3QgcmVzcG9uc2VFbmQgPSBNYXRoLnJvdW5kKG50LnJlc3BvbnNlRW5kIC0gbmF2U3RhcnQpO1xuICBjb25zdCBkb21Mb2FkZWQgPSBNYXRoLnJvdW5kKG50LmRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0IC0gbmF2U3RhcnQpO1xuICBjb25zdCB3aW5kb3dMb2FkZWQgPSBNYXRoLnJvdW5kKG50LmxvYWRFdmVudFN0YXJ0IC0gbmF2U3RhcnQpO1xuXG4gIGZ1bmN0aW9uIGFsbFZhbHVlc0FyZVZhbGlkKC4uLnZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMuZXZlcnkodmFsdWUgPT4gdmFsdWUgPiAwICYmIHZhbHVlIDwgNmU2KTtcbiAgfVxuXG4gIGlmIChhbGxWYWx1ZXNBcmVWYWxpZChyZXNwb25zZUVuZCwgZG9tTG9hZGVkLCB3aW5kb3dMb2FkZWQpKSB7XG4gICAgd2luZG93LmdhKCdzZW5kJywgJ2V2ZW50Jywge1xuICAgICAgZXZlbnRDYXRlZ29yeTogJ05hdmlnYXRpb24gVGltaW5nJyxcbiAgICAgIGV2ZW50QWN0aW9uOiAndHJhY2snLFxuICAgICAgZXZlbnRMYWJlbDogTlVMTF9WQUxVRSxcbiAgICAgIG5vbkludGVyYWN0aW9uOiB0cnVlLFxuICAgICAgW21ldHJpY3MuUkVTUE9OU0VfRU5EX1RJTUVdOiByZXNwb25zZUVuZCxcbiAgICAgIFttZXRyaWNzLkRPTV9MT0FEX1RJTUVdOiBkb21Mb2FkZWQsXG4gICAgICBbbWV0cmljcy5XSU5ET1dfTE9BRF9USU1FXTogd2luZG93TG9hZGVkLFxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyYWNrQ3VzdG9tRGltZW5zaW9ucygpIHtcbiAgT2JqZWN0LmtleXMoZGltZW5zaW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgd2luZG93LmdhKCdzZXQnLCBkaW1lbnNpb25zW2tleV0sIE5VTExfVkFMVUUpO1xuICB9KTtcblxuICB3aW5kb3cuZ2EoKHRyYWNrZXIpID0+IHtcbiAgICB0cmFja2VyLnNldCh7XG4gICAgICBbZGltZW5zaW9ucy5DTElFTlRfSURdOiB0cmFja2VyLmdldCgnY2xpZW50SWQnKSxcbiAgICAgIFtkaW1lbnNpb25zLlRSQUNLSU5HX1ZFUlNJT05dOiBUUkFDS0lOR19WRVJTSU9OLFxuICAgICAgW2RpbWVuc2lvbnMuV0lORE9XX0lEXTogdXVpZHY0KCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHdpbmRvdy5nYSgodHJhY2tlcikgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsQnVpbGRIaXRUYXNrID0gdHJhY2tlci5nZXQoJ2J1aWxkSGl0VGFzaycpO1xuXG4gICAgdHJhY2tlci5zZXQoJ2J1aWxkSGl0VGFzaycsIChtb2RlbCkgPT4ge1xuICAgICAgY29uc3QgcXVldWVUaW1lID0gbW9kZWwuZ2V0KCdxdWV1ZVRpbWUnKSB8fCAwO1xuXG4gICAgICBtb2RlbC5zZXQoZGltZW5zaW9ucy5ISVRfSUQsIHV1aWR2NCgpLCB0cnVlKTtcbiAgICAgIG1vZGVsLnNldChkaW1lbnNpb25zLkhJVF9USU1FLCBTdHJpbmcobmV3IERhdGUoKSAtIHF1ZXVlVGltZSksIHRydWUpO1xuICAgICAgbW9kZWwuc2V0KGRpbWVuc2lvbnMuSElUX1RZUEUsIG1vZGVsLmdldCgnaGl0VHlwZScpLCB0cnVlKTtcbiAgICAgIG1vZGVsLnNldChkaW1lbnNpb25zLlZJU0lCSUxJVFlfU1RBVEUsIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSwgdHJ1ZSk7XG5cbiAgICAgIG9yaWdpbmFsQnVpbGRIaXRUYXNrKG1vZGVsKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYWNrRXJyb3IoZXJyID0ge30sIGZpZWxkc09iaiA9IHt9KSB7XG4gIHdpbmRvdy5nYSgnc2VuZCcsICdldmVudCcsIE9iamVjdC5hc3NpZ24oe1xuICAgIGV2ZW50Q2F0ZWdvcnk6ICdFcnJvcicsXG4gICAgZXZlbnRBY3Rpb246IGVyci5uYW1lIHx8ICcobm8gZXJyb3IgbmFtZSknLFxuICAgIGV2ZW50TGFiZWw6IGAke2Vyci5tZXNzYWdlfVxcbiR7ZXJyLnN0YWNrIHx8ICcobm8gc3RhY2sgdHJhY2UpJ31gLFxuICAgIG5vbkludGVyYWN0aW9uOiB0cnVlLFxuICB9LCBmaWVsZHNPYmopKTtcbn1cblxuZnVuY3Rpb24gdHJhY2tFcnJvcnMoKSB7XG4gIGNvbnN0IGxvYWRFcnJvckV2ZW50cyA9IHdpbmRvdy5fX2UgJiYgd2luZG93Ll9fZS5xIHx8IFtdO1xuXG4gIGZ1bmN0aW9uIHRyYWNrRXJyb3JFdmVudChldmVudCkge1xuICAgIGNvbnN0IGZpZWxkc09iaiA9IHtcbiAgICAgIGV2ZW50Q2F0ZWdvcnk6ICdVbmNhdWdodCBFcnJvcicsXG4gICAgfTtcbiAgICBjb25zdCBlcnIgPSBldmVudC5lcnJvciB8fCB7XG4gICAgICBtZXNzYWdlOiBgJHtldmVudC5tZXNzYWdlfSAoJHtldmVudC5saW5lbm99OiR7ZXZlbnQuY29sbm99KWAsXG4gICAgfTtcblxuICAgIHRyYWNrRXJyb3IoZXJyLCBmaWVsZHNPYmopO1xuICB9XG5cbiAgZm9yIChjb25zdCBldmVudCBvZiBsb2FkRXJyb3JFdmVudHMpIHtcbiAgICB0cmFja0Vycm9yRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdHJhY2tFcnJvckV2ZW50KTtcbn1cblxuZnVuY3Rpb24gZ29vZ2xlQW5hbHl0aWNzKCkge1xuICB3aW5kb3cuZ2EgPSB3aW5kb3cuZ2EgfHwgKCguLi5hcmdzKSA9PiAod2luZG93LmdhLnEgPSB3aW5kb3cuZ2EucSB8fCBbXSkucHVzaChhcmdzKSk7XG5cbiAgY3JlYXRlVHJhY2tlcigpO1xuICBzZW5kSW5pdGlhbFBhZ2V2aWV3KCk7XG4gIHNlbmROYXZpZ2F0aW9uVGltaW5nTWV0cmljcygpO1xuICB0cmFja0N1c3RvbURpbWVuc2lvbnMoKTtcbiAgdHJhY2tFcnJvcnMoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ29vZ2xlQW5hbHl0aWNzO1xuIiwiZnVuY3Rpb24gbmF2aWdhdGlvbigpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXRvZ2dsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JykpLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbmF2aWdhdGlvbjtcbiIsImZ1bmN0aW9uIHBhZ2luYXRpb24oKSB7XG4gIGNvbnN0IHBhZ2luYXRpb25QcmV2aW91cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uX19wcmV2aW91cyBhJyk7XG4gIGNvbnN0IHBhZ2luYXRpb25OZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb25fX25leHQgYScpO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICBjYXNlIDM3OlxuICAgICAgICBpZiAocGFnaW5hdGlvblByZXZpb3VzKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gcGFnaW5hdGlvblByZXZpb3VzLmhyZWY7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBpZiAocGFnaW5hdGlvbk5leHQpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBwYWdpbmF0aW9uTmV4dC5ocmVmO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhZ2luYXRpb247XG4iLCJpbXBvcnQgbGF6eXNpemVzIGZyb20gJ2xhenlzaXplcyc7XG5pbXBvcnQgc3ZnNGV2ZXJ5Ym9keSBmcm9tICdzdmc0ZXZlcnlib2R5JztcblxuaW1wb3J0IGdvb2dsZUFuYWx5dGljcyBmcm9tICcuL2dvb2dsZS1hbmFseXRpY3MnO1xuaW1wb3J0IG5hdmlnYXRpb24gZnJvbSAnLi9uYXZpZ2F0aW9uJztcbmltcG9ydCBwYWdpbmF0aW9uIGZyb20gJy4vcGFnaW5hdGlvbic7XG5pbXBvcnQgc2Nyb2xsIGZyb20gJy4vc2Nyb2xsJztcblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgZ29vZ2xlQW5hbHl0aWNzKCk7XG4gIG5hdmlnYXRpb24oKTtcbiAgcGFnaW5hdGlvbigpO1xuICBzY3JvbGwoKTtcbiAgc3ZnNGV2ZXJ5Ym9keSgpO1xufVxuXG5tYWluKCk7XG4iLCJmdW5jdGlvbiBtaW4oYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyBhIDogYjtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsVG8oWSwgZHVyYXRpb24sIGVhc2luZ0Z1bmN0aW9uLCBjYWxsYmFjaykge1xuICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IGZyb20gPSBlbGVtZW50LnNjcm9sbFRvcDtcblxuICBpZiAoZnJvbSA9PT0gWSkge1xuICAgIGNhbGxiYWNrKCk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGwodGltZXN0YW1wKSB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCB0aW1lID0gbWluKDEsICgoY3VycmVudFRpbWUgLSBzdGFydCkgLyBkdXJhdGlvbikpO1xuICAgIGNvbnN0IGVhc2VkVCA9IGVhc2luZ0Z1bmN0aW9uKHRpbWUpO1xuXG4gICAgZWxlbWVudC5zY3JvbGxUb3AgPSAoZWFzZWRUICogKFkgLSBmcm9tKSkgKyBmcm9tO1xuXG4gICAgaWYgKHRpbWUgPCAxKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsKTtcbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShzY3JvbGwpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzY3JvbGxUbztcbiIsImltcG9ydCBlYXNpbmcgZnJvbSAnLi9lYXNpbmcnO1xuaW1wb3J0IHNjcm9sbFRvIGZyb20gJy4vc2Nyb2xsLXRvJztcblxuZnVuY3Rpb24gc2Nyb2xsKCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtc2Nyb2xsLXRvJykuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBzY3JvbGxUbyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmhyZWYuc3BsaXQoJyMnKVsxXSkub2Zmc2V0VG9wLCA2MDAsIGVhc2luZy5lYXNlSW5PdXRDdWJpYyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzY3JvbGw7XG4iXX0=\n"]}